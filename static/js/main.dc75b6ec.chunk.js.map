{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/common/FollowControl/FollowControl.js","redux/dialogs-reducer.js","api/api.js","redux/getters-selectors.js","components/Navbar/Navbar.module.css","components/utils/validators/validators.js","reportWebVitals.js","assets/logo1.gif","assets/logo2.gif","assets/logo3.gif","assets/logo4.gif","components/Header/Header.jsx","assets/logout.png","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.jsx","components/Profile/MyPosts/MyPosts.jsx","redux/app-reducer.js","redux/profile-reducer.js","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/ProfileInfo/ProfileStatus.jsx","components/Profile/ProfileInfo/UserPart.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/ProfileInfo/ProfileInfoContainer.jsx","components/Profile/Profile.jsx","components/common/ErrorForm/ErrorForm.js","App.js","redux/redux-store.js","index.js","redux/auth-reducer.js","components/Profile/MyPosts/MyPosts.module.css","components/common/FormsControls/FormsControls.js","redux/object-helper.js","redux/users-reducer.js","assets/preloader.svg","components/common/Preloader/Preloader.js","components/Header/Header.module.css","components/common/ErrorForm/ErrorForm.module.css","components/common/FormsControls/FormsControls.module.css","components/common/FollowControl/FollowControl.module.css","components/Profile/Profile.module.css"],"names":["module","exports","FollowButton","props","className","s","btn","disabled","followingInProgress","some","id","userId","onClick","followingUser","UnfollowButton","unfollowingUser","FollowControl","userFollowed","SEND_MESSAGE","initialState","dialogs","name","messages","message","dialogsReducer","state","action","type","newMessageBody","sendMessage","instance","axios","create","withCredentials","baseURL","headers","usersApi","getUsers","currentPage","pageSize","get","then","response","data","getFriends","unfollowUser","delete","followUser","post","UnFollowUser","getIsFollowed","profileApi","getUserProfile","getProfileStatus","updateProfileStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authApi","getAuthMe","loginMe","email","password","rememberMe","captcha","logoutMe","securityApi","getCaptchaURL","getInitialized","app","initialized","getGlobalError","globalError","getProfile","profilePage","getStatus","getFollowed","followed","getPosts","posts","getDialogs","dialogsPage","getMessages","createSelector","usersPage","users","getPageSize","friends","getTotalUsersCount","totalUsersCount","getCurrentPage","getTotalFriendsCount","totalFriendsCount","getIsFetching","isFetching","getFollowingInProgress","getIsAuth","auth","isAuth","getAuthUserId","getLogin","login","captchaURL","requiredField","value","maxLengthCreator","maxLength","length","minLengthCreator","minLength","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","LogoutButton","logoutB","src","logout","Header","useState","logo1","logo","setLogo","header","logo2","logo3","logo4","loginBlock","to","HeaderContainer","this","logoutThunkCreator","React","Component","connect","Navbar","nav","item","activeClassName","active","Post","postText","postMessage","likes","Textarea","Element","maxLength50","MyPostsReduxForm","reduxForm","form","onSubmit","handleSubmit","addPost","Field","component","placeholder","validate","MyPosts","myPosts","values","newPostBody","map","p","INITIALIZED_SUCCESS","SET_GLOBAL_ERROR","RESET_GLOBAL_ERROR","appReducer","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_PROFILE_STATUS","IS_FOLLOWED","SAVE_PHOTO_SUCCESS","profileReducer","filter","postId","photos","setProfileStatus","getUserProfileThunkCreator","dispatch","a","MyPostsContainer","UserStatus","editMode","setEditMode","setStatus","useEffect","isOwner","onChange","e","currentTarget","autoFocus","onBlur","updateStatus","notActive","UserPartLabel","descriptionArea","text","profileInfo","LinksArea","links","Object","keys","contacts","key","linksArea","href","target","UserInfo","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","Input","maxLength20","maxLength300","EditFormReduxForm","error","UserPart","userPart","image","files","large","description","initialValues","Buttons","buttons","button","pbutton","ProfileInfo","setFollowed","Preloader","compose","authUserId","getProfileStatusThunkCreator","updateProfileStatusThunkCreator","resultCode","followUserThunkCreator","unfollowUserThunkCreator","isFollowedThunkCreator","file","getState","stopSubmit","_error","Promise","reject","withRouter","params","useParams","refreshProfile","console","log","history","push","Background","background","Profile","profileWrapper","ProfileInfoContainer","ErrorForm","errorWindow","exitButton","resetError","errorMessage","toString","UsersContainer","lazy","Dialogs","News","Settings","Login","initializeAppThunkCreator","getAuthMeThunkCreator","resetGlobalError","fallback","exact","path","render","reducers","combineReducers","usersReducer","authReducer","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","StrictMode","document","getElementById","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","url","setAuthUserData","loginThunkCreator","input","meta","isError","touched","updateObjectArray","items","itemId","itemPropName","newObjProps","SET_USERS","SET_FRIENDS","FOLLOW","UNFOLLOW","SET_CURRENT_PAGE","SET_TOTAL_COUNT_USERS","SET_TOTAL_COUNT_FRIENDS","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","user","friend","setCurrentPage","toggleIsFetching","toggleFollowingProgress","getUsersThunkCreator","page","totalCount","getFriendsThunkCreator","followUnfollowFlow","apiMethod","actionCreator","bind","preloader"],"mappings":"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","file":"static/js/main.dc75b6ec.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"flex\":\"ProfileInfo_flex__1EkbR\",\"profileInfo\":\"ProfileInfo_profileInfo__2QR7I\",\"status\":\"ProfileInfo_status__3RMld\",\"active\":\"ProfileInfo_active__3aD_j\",\"notActive\":\"ProfileInfo_notActive__Boi78\",\"buttons\":\"ProfileInfo_buttons__c-hD4\",\"button\":\"ProfileInfo_button__2mYQs\",\"pbutton\":\"ProfileInfo_pbutton__vgNrb\",\"links\":\"ProfileInfo_links__1aXUa\",\"linksArea\":\"ProfileInfo_linksArea__3w-Bw\",\"userPart\":\"ProfileInfo_userPart__qoscO\",\"image\":\"ProfileInfo_image__KFPkX\",\"description\":\"ProfileInfo_description__tjbgX\",\"descriptionArea\":\"ProfileInfo_descriptionArea__YBA-G\",\"text\":\"ProfileInfo_text__Qpiiw\"};","import React from 'react';\r\nimport s from \"./FollowControl.module.css\";\r\n\r\nconst FollowButton = (props) => {\r\n    return <button className={s.btn}\r\n                   disabled={props.followingInProgress.some(id => id === props.userId)}\r\n                   onClick={() => props.followingUser(props.userId)}>‚úîÔ∏è Follow\r\n    </button>\r\n};\r\n\r\nconst UnfollowButton = (props) => {\r\n    return <button className={s.btn}\r\n                   disabled={props.followingInProgress.some(id => id === props.userId)}\r\n                   onClick={() => props.unfollowingUser(props.userId)}>‚ùå Unfollow\r\n    </button>\r\n};\r\n\r\nconst FollowControl = (props) => {\r\n    return <div>\r\n        {props.userFollowed\r\n            ? <UnfollowButton userId={props.userId}\r\n                              followingInProgress={props.followingInProgress}\r\n                              unfollowingUser={props.unfollowingUser}/>\r\n            : <FollowButton userId={props.userId}\r\n                            followingInProgress={props.followingInProgress}\r\n                            followingUser={props.followingUser}/>}\r\n    </div>\r\n};\r\n\r\nexport default FollowControl;","const SEND_MESSAGE = 'dialogs/SEND-MESSAGE'\r\n\r\nlet initialState = {\r\n\tdialogs: [\r\n\t\t{id: 1, name: '–ê–Ω—Ç–æ–Ω'},\r\n\t\t{id: 2, name: '–ù–∞—Å—Ç—è (–ª–∏—Å—ë–Ω–æ–∫)'},\r\n\t\t{id: 3, name: '–ö–æ—Ç'},\r\n\t\t{id: 4, name: '–ö–∏—Ä–∏–ª–ª'},\r\n\t\t{id: 5, name: '–Ø—à–∞'},\r\n\t\t{id: 6, name: '–™—É—ä'},\r\n\t],\r\n\tmessages: [\r\n\t\t{id: 1, message: 'first message'},\r\n\t\t{id: 2, message: '–í—Ç–æ—Ä–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ'},\r\n\t\t{id: 3, message: 'Powel nahoi'},\r\n\t\t{id: 4, message: '‡§™‡•ç‡§∞‡§§‡•Ä‡§ï ‡§Æ‡§æ‡§∞‡•ç‡§ó‡§®‡§ø‡§∞‡§æ‡§ï‡§∞‡§£ ‡§ï‡§∞‡•Ç ‡§∂‡§ï‡§§ ‡§®‡§æ‡§π‡•Ä'},\r\n\t\t{id: 5, message: 'ŸÖÿ±ÿ≠ÿ®ÿß ÿßŸÑÿπÿßŸÑŸÖ'},\r\n\t\t{id: 6, message: '–™—É—ä'},\r\n\t],\r\n};\r\n\r\nexport const dialogsReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\r\n\t\tcase SEND_MESSAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmessages: [...state.messages, {id: 7, message: action.newMessageBody}]\r\n\t\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n};\r\n\r\nexport default dialogsReducer;\r\n\r\nexport const sendMessage = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody});","import axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n\twithCredentials: true,\r\n\tbaseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n\theaders: {\"API-KEY\": \"df13e065-b76b-4abe-885d-a3a658f4ab16\"}\r\n\t//TODO —Å–¥–µ–ª–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª—è—Ç—å API-KEY\r\n});\r\n\r\nexport const usersApi = {\r\n\tgetUsers (currentPage, pageSize) {\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n\t\t\t.then(response => response.data)\r\n\t},\r\n\tgetFriends () {\r\n\t\treturn instance.get(`users?friend=${true}&count=100`)\r\n\t\t\t.then(response => response.data)\r\n\t\t//TODO —Å–¥–µ–ª–∞—Ç—å –∫–Ω–æ–ø–∫—É \"–µ—â—ë 100\" –∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ data.totalCount < 100\r\n\t},\r\n\tunfollowUser (userId) {\r\n\t\treturn instance.delete(`follow/${userId}`)\r\n\t\t\t.then(response => response.data)\r\n\t},\r\n\tfollowUser (userId) {\r\n\t\treturn instance.post(`follow/${userId}`)\r\n\t\t\t.then(response => response.data)\r\n\t}\r\n};\r\n\r\nexport const UnFollowUser = {\r\n\t//TODO –ø–µ—Ä–µ–¥–µ–ª–∞–π –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø–æ–¥ —ç—Ç–æ\r\n\tunfollowUser (userId) {\r\n\t\treturn instance.delete(`follow/${userId}`)\r\n\t\t\t.then(response => response.data)\r\n\t},\r\n\tfollowUser (userId) {\r\n\t\treturn instance.post(`follow/${userId}`)\r\n\t\t\t.then(response => response.data)\r\n\t},\r\n\tgetIsFollowed (userId) {\r\n\t\treturn instance.get(`follow/${userId}`)\r\n\t\t\t.then(response => response.data)\r\n\t}\r\n}\r\n\r\nexport const profileApi = {\r\n\tgetUserProfile (userId) {\r\n\t\treturn instance.get(`profile/${userId}`)\r\n\t\t\t.then(response => response.data)\r\n\t},\r\n\tgetProfileStatus (userId) {\r\n\t\treturn instance.get(`profile/status/${userId}`)\r\n\t\t\t.then(response => response.data)\r\n\t},\r\n\tupdateProfileStatus (status) {\r\n\t\treturn instance.put(`profile/status`, {status: status})\r\n\t},\r\n\tsavePhoto (photoFile) {\r\n\t\tconst formData = new FormData()\r\n\t\tformData.append(\"image\", photoFile)\r\n\t\treturn instance.put(`profile/photo`, formData, {\r\n\t\t\theaders: {'Content-Type': 'multipart/form-data'}\r\n\t\t})\r\n\t},\r\n\tsaveProfile (profile) {\r\n\t\treturn instance.put(`profile`, profile)\r\n\t},\r\n};\r\n\r\nexport const authApi = {\r\n\tgetAuthMe () {\r\n\t\treturn instance.get(`auth/me`)\r\n\t\t\t.then(response => response.data)\r\n\t},\r\n\tloginMe (email, password, rememberMe = false, captcha = null) {\r\n\t\treturn instance.post(`auth/login`, {email, password, rememberMe, captcha})\r\n\t\t\t.then(response => response.data)\r\n\t},\r\n\tlogoutMe () {\r\n\t\treturn instance.delete(`auth/login`)\r\n\t\t\t.then(response => response.data)\r\n\t}\r\n};\r\n\r\nexport const securityApi = {\r\n\tgetCaptchaURL () {\r\n\t\treturn instance.get(`security/get-captcha-url`)\r\n\t\t\t.then(response => response.data)\r\n\t},\r\n};","import {createSelector} from \"reselect\";\r\n\r\n//App\r\nexport const getInitialized = (state) => state.app.initialized\r\nexport const getGlobalError = (state) => state.app.globalError\r\n\r\n//Profile\r\nexport const getProfile = (state) => state.profilePage.profile;\r\nexport const getStatus = (state) => state.profilePage.status;\r\nexport const getFollowed = (state) => state.profilePage.followed;\r\nexport const getPosts = (state) => state.profilePage.posts;\r\n\r\n//Dialogs\r\nexport const getDialogs = (state) => state.dialogsPage.dialogs;\r\n\r\n//Messages\r\nexport const getMessages = (state) => state.dialogsPage.messages;\r\n\r\n//Users\r\nconst simpleUsersSelector = (state) => state.usersPage.users;\r\nexport const getUsers = createSelector(simpleUsersSelector, (users) => users);\r\nexport const getPageSize = (state) => state.usersPage.pageSize;\r\nexport const getFriends = (state) => state.usersPage.friends;\r\nexport const getTotalUsersCount = (state) => state.usersPage.totalUsersCount;\r\nexport const getCurrentPage = (state) => state.usersPage.currentPage;\r\nexport const getTotalFriendsCount = (state) => state.usersPage.totalFriendsCount;\r\nexport const getIsFetching = (state) => state.usersPage.isFetching;\r\nexport const getFollowingInProgress = (state) => state.usersPage.followingInProgress;\r\n\r\n//Auth\r\nexport const getIsAuth = (state) => state.auth.isAuth;\r\nexport const getAuthUserId = (state) => state.auth.userId;\r\nexport const getLogin = (state) => state.auth.login;\r\nexport const getCaptchaURL = (state) => state.auth.captchaURL;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__18rVL\",\"item\":\"Navbar_item__3iMIj\",\"active\":\"Navbar_active__2k7br\"};","export const requiredField = (value) => {\r\n\tif (value) return undefined\r\n\treturn \"Empty field\"\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n\tif (value && value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n\treturn undefined\r\n}\r\n\r\nexport const minLengthCreator = (minLength) => (value) => {\r\n\tif (value && value.length < minLength) return `Min length is ${minLength} symbols`\r\n\treturn undefined\r\n}","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","export default __webpack_public_path__ + \"static/media/logo1.8c388a0f.gif\";","export default __webpack_public_path__ + \"static/media/logo2.03f6c26f.gif\";","export default __webpack_public_path__ + \"static/media/logo3.82da6407.gif\";","export default __webpack_public_path__ + \"static/media/logo4.591ef747.gif\";","import React, {useState} from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nimport logo1 from \"../../assets/logo1.gif\";\r\nimport logo2 from \"../../assets/logo2.gif\";\r\nimport logo3 from \"../../assets/logo3.gif\";\r\nimport logo4 from \"../../assets/logo4.gif\";\r\nimport logout from \"../../assets/logout.png\"\r\n\r\nimport s from './Header.module.css';\r\n\r\nconst LogoutButton = (props) =>\r\n    <div className={s.logoutB}>\r\n        <img src={logout} onClick={props.logout}/>\r\n    </div>\r\n\r\nconst Header = (props) => {\r\n\r\n    let [logo, setLogo] = useState(logo1)\r\n\r\n    const changeLogo = () => {\r\n        switch (logo) {\r\n            case logo1:\r\n                return setLogo(logo2)\r\n            case logo2:\r\n                return setLogo(logo3)\r\n            case logo3:\r\n                return setLogo(logo4)\r\n            case logo4:\r\n                return setLogo(logo1)\r\n            default:\r\n                return setLogo(logo1)\r\n        }\r\n    }\r\n\r\n    return <header className={s.header}>\r\n        <img onClick={changeLogo} src={logo}/>\r\n        {props.isAuth && <LogoutButton logout={props.logout}/>}\r\n        <div className={s.loginBlock}>\r\n            {props.isAuth\r\n                ? props.login\r\n                : <NavLink to=\"/login\">Login</NavLink>}\r\n        </div>\r\n    </header>\r\n};\r\n\r\nexport default Header;","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\n\r\nimport Header from \"./Header\";\r\nimport {logoutThunkCreator} from \"../../redux/auth-reducer\";\r\nimport {getIsAuth, getLogin} from \"../../redux/getters-selectors\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props} logout={this.props.logoutThunkCreator}/>\r\n    }\r\n};\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isAuth: getIsAuth(state),\r\n    login: getLogin(state)\r\n});\r\n\r\nexport default connect(mapStateToProps, {logoutThunkCreator})(HeaderContainer);","import React from 'react'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from './Navbar.module.css'\r\n\r\nconst Navbar = () => {\r\n\treturn (\r\n\t\t<nav className={s.nav}>\r\n\r\n\t\t\t{/*TODO –¥–æ–±–∞–≤–∏—Ç—å –≤ navbar –Ω–∞–¥ –≤–ª–∞–¥–∫–∞–º–∏ –º–µ–Ω—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è - –∫–∞—Ä—Ç–∏–Ω–∫–∞ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ, –§–ò–û*/}\r\n\t\t\t<div className={s.item}>\r\n\t\t\t\t<NavLink to=\"/profile\" activeClassName={s.active}>\r\n\t\t\t\t\tProfile\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={s.item}>\r\n\t\t\t\t<NavLink to=\"/dialogs\" activeClassName={s.active}>\r\n\t\t\t\t\tMessages\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={s.item}>\r\n\t\t\t\t<NavLink to=\"/news\" activeClassName={s.active}>\r\n\t\t\t\t\tNews\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={s.item}>\r\n\t\t\t\t<NavLink to=\"/users\" activeClassName={s.active}>\r\n\t\t\t\t\tUsers\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={s.item}>\r\n\t\t\t\t<NavLink to=\"/settings\" activeClassName={s.active}>\r\n\t\t\t\t\tSettings\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={s.item}>\r\n\t\t\t\t<NavLink to=\"/settings\" activeClassName={s.active}>\r\n\t\t\t\t\tFAQ\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\t\t{/*TODO –¥–æ–±–∞–≤–∏—Ç—å –º–µ–Ω—é—à–∫—É AntD –∏ –≤ —Ä–∞–∑—ä–µ–∑–∂–∞–Ω–∏–µ –≤–∫–ª–∞–¥–∫–∏ - —Ñ—Ä–µ–Ω–¥–ª–∏—Å—Ç –Ω–µ–±–æ–ª—å—à–æ–π –∏ –µ—â—ë —á—Ç–æ-–Ω–∏–±—É–¥—å*/}\r\n\t\t</nav>\r\n\t)\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport {Field, reduxForm} from \"redux-form\";\r\n\r\nimport {maxLengthCreator, requiredField} from \"../../utils/validators/validators\";\r\nimport {Element} from \"../../common/FormsControls/FormsControls\";\r\nimport s from './MyPosts.module.css';\r\n\r\n\r\nconst Post = (props) => <div className={s.post}>\r\n    <img src='https://goldenmost.ru/wp-content/uploads/2017/07/Kon2.jpg'/>\r\n    <div className={s.postText}>\r\n        <div>{props.postMessage}</div>\r\n        <div className={s.likes}> üëç {props.likes}</div>\r\n    </div>\r\n</div>\r\n\r\nconst Textarea = Element(\"textarea\")\r\nconst maxLength50 = maxLengthCreator(50)\r\nconst MyPostsForm = (props) => {\r\n    return <form onSubmit={props.handleSubmit} className={s.addPost}>\r\n        <Field name={\"newPostBody\"}\r\n               component={Textarea}\r\n               placeholder=\"Write a new post...\"\r\n               validate={[requiredField, maxLength50]}\r\n        />\r\n        <button>+</button>\r\n    </form>\r\n}\r\nconst MyPostsReduxForm = reduxForm({form: \"profileNewPostForm\"})(MyPostsForm)\r\n\r\nconst MyPosts = (props) => {\r\n    let addPost = (values) => props.addPost(values.newPostBody)\r\n    return (\r\n        <div className={s.myPosts}>\r\n            <MyPostsReduxForm onSubmit={addPost}/>\r\n            {props.posts.map(p => <Post postMessage={p.postMessage}\r\n                                        likes={p.likes}\r\n                                        id={p.id}/>)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MyPosts;","import {getAuthMeThunkCreator} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'app/INITIALIZED-SUCCESS';\r\nconst SET_GLOBAL_ERROR = 'app/SET_GLOBAL_ERROR';\r\nconst RESET_GLOBAL_ERROR = 'app/RESET_GLOBAL_ERROR';\r\n\r\nlet initialState = {\r\n\tinitialized: false,\r\n\tglobalError: null\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\r\n\t\tcase INITIALIZED_SUCCESS:\r\n\t\t\treturn {...state, initialized: true}\r\n\r\n\t\tcase SET_GLOBAL_ERROR:\r\n\t\t\treturn {...state, globalError: action.globalError}\r\n\r\n\t\tcase RESET_GLOBAL_ERROR:\r\n\t\t\treturn {...state, globalError: null}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n};\r\n\r\nexport default appReducer;\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\nexport const setGlobalError = (globalError) => ({type: SET_GLOBAL_ERROR, globalError});\r\nexport const resetGlobalError = () => ({type: RESET_GLOBAL_ERROR});\r\n\r\nexport const initializeAppThunkCreator = () => (dispatch) => {\r\n\tlet promise = dispatch(getAuthMeThunkCreator())\r\n\tpromise.then(() => dispatch(initializedSuccess()))\r\n};\r\n\r\n","import {profileApi, UnFollowUser} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {setGlobalError} from \"./app-reducer\";\r\n\r\nconst ADD_POST = 'profile/ADD-POST';\r\nconst DELETE_POST = 'profile/DELETE-POST';\r\nconst SET_USER_PROFILE = 'profile/SET-USER-PROFILE';\r\nconst SET_PROFILE_STATUS = 'profile/SET-PROFILE-STATUS';\r\nconst IS_FOLLOWED = 'profile/IS-FOLLOWED';\r\nconst SAVE_PHOTO_SUCCESS = 'profile/SAVE-PHOTO-SUCCESS';\r\n\r\nlet initialState = {\r\n    profile: null,\r\n    status: '',\r\n    followed: null,\r\n    posts: [\r\n        {id: 1, postMessage: 'Hello world', likes: 4},\r\n        {id: 2, postMessage: '‰Ωï„Åã„ÅÆ„ÅÑ„Åè„Å§„Åã„ÅÆÁ®ÆÈ°û„ÅÆÊÄß‰∫§„ÅÆË™¨Êòé', likes: 300},\r\n        {id: 3, postMessage: '–ï–±–∏—Å—Å—å –æ–Ω–æ –∫–æ–Ω—ë–º', likes: 76},\r\n        {id: 4, postMessage: '.ÿ£ŸÜÿß ÿ£ŸÉÿ±Ÿá Ÿáÿ∞Ÿá ÿßŸÑÿπÿ®ÿßÿ±ÿ©·Éê', likes: 13},\r\n        {\r\n            id: 6,\r\n            postMessage: '–û–Ω–∞ –Ω–µ—Å–ª–∞ –≤ —Ä—É–∫–∞—Ö –æ—Ç–≤—Ä–∞—Ç–∏—Ç–µ–ª—å–Ω—ã–µ, —Ç—Ä–µ–≤–æ–∂–Ω—ã–µ –∂–µ–ª—Ç—ã–µ —Ü–≤–µ—Ç—ã. –ß–µ—Ä—Ç –∏—Ö –∑–Ω–∞–µ—Ç, –∫–∞–∫ –∏—Ö –∑–æ–≤—É—Ç, –Ω–æ –æ–Ω–∏ –ø–µ—Ä–≤—ã–µ –ø–æ—á–µ–º—É-—Ç–æ –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ –ú–æ—Å–∫–≤–µ.',\r\n            likes: 666\r\n        },\r\n        {\r\n            id: 7,\r\n            postMessage: '–í—ã –ø–æ–º–Ω–∏—Ç–µ,\\n' +\r\n                '–í—ã –≤—Å—ë, –∫–æ–Ω–µ—á–Ω–æ, –ø–æ–º–Ω–∏—Ç–µ,\\n' +\r\n                '–ö–∞–∫ —è —Å—Ç–æ—è–ª,\\n' +\r\n                '–ü—Ä–∏–±–ª–∏–∑–∏–≤—à–∏—Å—å –∫ —Å—Ç–µ–Ω–µ,\\n' +\r\n                '–í–∑–≤–æ–ª–Ω–æ–≤–∞–Ω–Ω–æ —Ö–æ–¥–∏–ª–∏ –≤—ã –ø–æ –∫–æ–º–Ω–∞—Ç–µ\\n' +\r\n                '–ò —á—Ç–æ-—Ç–æ —Ä–µ–∑–∫–æ–µ\\n' +\r\n                '–í –ª–∏—Ü–æ –±—Ä–æ—Å–∞–ª–∏ –º–Ω–µ.',\r\n            likes: 228\r\n        },\r\n    ],\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case ADD_POST:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {id: 8, postMessage: action.newPostBody, likes: 1337}]\r\n            }\r\n\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(post => post.id !== action.postId)\r\n            }\r\n\r\n        case SET_USER_PROFILE:\r\n            return {...state, profile: action.profile}\r\n\r\n        case SET_PROFILE_STATUS:\r\n            return {...state, status: action.status}\r\n\r\n        case IS_FOLLOWED:\r\n            return {...state, followed: action.followed}\r\n\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {...state, profile: {...state.profile, photos: action.photos}}\r\n\r\n        default:\r\n            return state\r\n    }\r\n};\r\n\r\nexport default profileReducer;\r\n\r\nexport const setProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos});\r\nexport const addPost = (newPostBody) => ({type: ADD_POST, newPostBody});\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\nexport const setProfileStatus = (status) => ({type: SET_PROFILE_STATUS, status});\r\nexport const isFollowed = (followed) => ({type: IS_FOLLOWED, followed})\r\n\r\nexport const getUserProfileThunkCreator = (userId) => async (dispatch) => {\r\n    let data = await profileApi.getUserProfile(userId)\r\n    dispatch(setProfile(data))\r\n};\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileApi.savePhoto(file)\r\n    if (response.data.resultCode === 0) dispatch(savePhotoSuccess(response.data.data.photos))\r\n};\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId\r\n    const response = await profileApi.saveProfile(profile)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfileThunkCreator(userId))\r\n    } else {\r\n        dispatch(stopSubmit(\"profileInfoEditForm\", {_error: response.data.messages[0]}))\r\n        return Promise.reject(response.data.messages[0])\r\n    }\r\n};\r\nexport const getProfileStatusThunkCreator = (userId) => async (dispatch) => {\r\n    let data = await profileApi.getProfileStatus(userId)\r\n    dispatch(setProfileStatus(data))\r\n};\r\nexport const updateProfileStatusThunkCreator = (status) => async (dispatch) => {\r\n    try {\r\n        let response = await profileApi.updateProfileStatus(status)\r\n        if (response.data.resultCode === 0) dispatch(setProfileStatus(status))\r\n    } catch (error) {\r\n        dispatch(setGlobalError(error))\r\n    }\r\n};\r\nexport const isFollowedThunkCreator = (userId) => async (dispatch) => {\r\n    let data = await UnFollowUser.getIsFollowed(userId)\r\n    dispatch(isFollowed(data))\r\n};\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\n\r\nimport MyPosts from \"./MyPosts\";\r\nimport {addPost} from \"../../../redux/profile-reducer\";\r\nimport {getPosts} from \"../../../redux/getters-selectors\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: getPosts(state)\r\n    }\r\n};\r\n\r\nconst MyPostsContainer = connect(\r\n    mapStateToProps,\r\n    {addPost})\r\n(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React, {useEffect, useState} from \"react\";\r\nimport s from \"./ProfileInfo.module.css\";\r\n\r\nconst UserStatus = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => setStatus(props.status), [props.status])\r\n\r\n    const onStatusChange = (e) => setStatus(e.currentTarget.value)\r\n    const activateEditMode = () => setEditMode(true)\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n\r\n    return <div>\r\n        {props.isOwner\r\n            ? <div className={s.status}>\r\n                {!editMode\r\n                    ? <div className={s.notActive}\r\n                           onClick={activateEditMode}>{props.status || \"...\"}</div>\r\n                    : <input onChange={onStatusChange}\r\n                             autoFocus\r\n                             onBlur={deactivateEditMode}\r\n                             value={status}\r\n                             className={s.active}/>\r\n                }\r\n            </div>\r\n            : <div className={s.status}>\r\n                <div className={s.notActive}>{props.status || \"...\"}</div>\r\n            </div>\r\n        }\r\n    </div>\r\n};\r\n\r\nexport default UserStatus;","import s from \"./ProfileInfo.module.css\";\r\nimport React, {useState} from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Element} from \"../../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, requiredField} from \"../../utils/validators/validators\";\r\n\r\nconst UserPartLabel = (props) => {\r\n    return <div className={s.descriptionArea}>\r\n        <div className={s.text}>{props.text}</div>\r\n        <div>{props.profileInfo}</div>\r\n    </div>\r\n}\r\nconst LinksArea = (props) => <div className={s.links}>\r\n    {Object.keys(props.contacts).map(key =>\r\n        props.contacts[key]\r\n            ? <div key={key} className={s.linksArea}>{key}: <a href={props.contacts[key]}\r\n                                                               target=\"_blank\">{props.contacts[key]}</a></div>\r\n            : <div key={key} className={s.linksArea}>{key}: ...</div>\r\n    )}\r\n</div>\r\nconst UserInfo = (props) => <div>\r\n    <UserPartLabel text={\"Full name:\"} profileInfo={props.profile.fullName}/>\r\n    <UserPartLabel text={\"About me:\"} profileInfo={props.profile.aboutMe}/>\r\n    <UserPartLabel text={\"Looking for a job:\"}\r\n                   profileInfo={props.profile.lookingForAJob ? \"Yes\" : \"No\"}/>\r\n    <UserPartLabel text={\"My prof skills:\"} profileInfo={props.profile.lookingForAJobDescription}/>\r\n    <LinksArea contacts={props.profile.contacts}/>\r\n</div>\r\n\r\nconst Input = Element(\"input\")\r\nconst Textarea = Element(\"textarea\")\r\nconst maxLength20 = maxLengthCreator(20)\r\nconst maxLength300 = maxLengthCreator(300)\r\nconst EditForm = (props) => <form onSubmit={props.handleSubmit}>\r\n    <button>Save</button>\r\n    {props.error}\r\n    <div>\r\n        <Field name={\"fullName\"}\r\n               component={Input}\r\n               placeholder=\"Full name...\"\r\n               validate={[requiredField, maxLength20]}/>\r\n    </div>\r\n    <div>\r\n        <Field name={\"aboutMe\"}\r\n               component={Textarea}\r\n               placeholder=\"About me...\"\r\n               validate={[requiredField, maxLength300]}/>\r\n    </div>\r\n    <div>\r\n        <Field name={\"lookingForAJob\"}\r\n               component={Input}\r\n               type={\"checkbox\"}/>\r\n    </div>\r\n    <div>\r\n        <Field name={\"lookingForAJobDescription\"}\r\n               component={Textarea}\r\n               placeholder=\"My prof skills...\"\r\n               validate={[requiredField, maxLength300]}/>\r\n    </div>\r\n    {Object.keys(props.contacts).map(key =>\r\n        <div key={key}>\r\n            <Field name={\"contacts.\" + key}\r\n                   component={Input}\r\n                   placeholder={key}/>\r\n        </div>\r\n    )}\r\n</form>\r\nconst EditFormReduxForm = reduxForm({form: \"profileInfoEditForm\"})(EditForm)\r\n\r\nconst UserPart = (props) => {\r\n    let [editMode, setEditMode] = useState(false)\r\n    const saveInfo = (values) => {\r\n        props.saveProfile(values).then(() => setEditMode(false))\r\n    }\r\n    const onMainPhotoSelected = (e) => {\r\n        props.savePhoto(e.target.files[0])\r\n    }\r\n\r\n    return <div className={s.userPart}>\r\n        <div className={s.image}>\r\n            {props.isOwner && <input type={\"file\"} onChange={onMainPhotoSelected}/>}\r\n            <img className={s.image}\r\n                 src={props.profile.photos.large || 'https://otvet.imgsmail.ru/download/15f4035d0a54e730e4c24b7a574cb20b_i-33.jpg'}/>\r\n        </div>\r\n        <div className={s.description}>\r\n            {props.isOwner && <button onClick={() => setEditMode(true)}>Edit</button>}\r\n            {editMode\r\n                ? <div>\r\n                    <button onClick={() => setEditMode(false)}>x</button>\r\n                    <EditFormReduxForm initialValues={props.profile}\r\n                                       contacts={props.profile.contacts}\r\n                                       onSubmit={saveInfo}/>\r\n                </div>\r\n                : <UserInfo profile={props.profile}/>}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default UserPart;","import React, {useEffect, useState} from \"react\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport UserStatus from \"./ProfileStatus\";\r\nimport s from \"./ProfileInfo.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport FollowControl from \"../../common/FollowControl/FollowControl\";\r\nimport UserPart from \"./UserPart\";\r\n\r\nconst Buttons = (props) => <div className={s.buttons}>\r\n    <div>\r\n        <FollowControl userId={props.userId}\r\n                       userFollowed={props.followed}\r\n                       followingInProgress={props.followingInProgress}\r\n                       followingUser={props.followingUser}\r\n                       unfollowingUser={props.unfollowingUser}/>\r\n    </div>\r\n    <button className={s.button}>Copy link</button>\r\n    {/*TODO –∏ –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å?*/}\r\n    <NavLink to={\"/users\"}>\r\n        <button className={s.pbutton}>Back to users</button>\r\n    </NavLink>\r\n    {/*\tTODO –ø–µ—Ä–µ–¥–µ–ª–∞–π —ç—Ç–æ—Ç –ø–æ–∑–æ—Ä.............. –∏ –ø—Ä–∏–¥—É–º–∞–π, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Å–≤–æ–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è*/}\r\n</div>\r\n\r\n\r\nconst ProfileInfo = (props) => {\r\n    const [followed, setFollowed] = useState(props.followed)\r\n    useEffect(() => setFollowed(props.followed), [props.followed])\r\n    // ^ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –ª–æ–∫–∞–ª—å–Ω—ã–π —Å—Ç–µ–π—Ç –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ\r\n    // —Ç.–∫. props.followingUser - –∏–∑–º–µ–Ω—è–µ—Ç –µ–≥–æ —Ç–æ–ª—å–∫–æ –¥–ª—è users-reducers\r\n    const followingUser = (userId) => {\r\n        props.followingUser(userId)\r\n        setFollowed(true)\r\n    }\r\n    const unfollowingUser = (userId) => {\r\n        props.unfollowingUser(userId)\r\n        setFollowed(false)\r\n    }\r\n\r\n    if (!props.profile) return <Preloader/>\r\n    return <div className={s.profileInfo}>\r\n        <UserPart profile={props.profile}\r\n                  isOwner={props.isOwner}\r\n                  saveProfile={props.saveProfile}\r\n                  savePhoto={props.savePhoto}/>\r\n        <UserStatus status={props.status}\r\n                    isOwner={props.isOwner}\r\n                    updateStatus={props.updateStatus}/>\r\n        {!props.isOwner && <Buttons followingUser={followingUser}\r\n                                    unfollowingUser={unfollowingUser}\r\n                                    followed={followed}\r\n                                    userId={props.profile.userId}\r\n                                    followingInProgress={props.followingInProgress}/>}\r\n    </div>\r\n}\r\n\r\nexport default ProfileInfo;","import React, {useEffect} from 'react'\r\nimport {connect} from \"react-redux\";\r\nimport {useParams, withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\n\r\nimport ProfileInfo from \"./ProfileInfo\";\r\nimport {\r\n    getProfileStatusThunkCreator,\r\n    getUserProfileThunkCreator, isFollowedThunkCreator, savePhoto, saveProfile,\r\n    updateProfileStatusThunkCreator\r\n} from \"../../../redux/profile-reducer\";\r\nimport {followUserThunkCreator, unfollowUserThunkCreator} from \"../../../redux/users-reducer\";\r\nimport {\r\n    getAuthUserId,\r\n    getFollowed,\r\n    getFollowingInProgress,\r\n    getIsAuth,\r\n    getProfile,\r\n    getStatus\r\n} from \"../../../redux/getters-selectors\";\r\n\r\n\r\nconst ProfileContainer = (props) => {\r\n    const params = useParams(); // props.match.params. in hook (withRouter)\r\n\r\n    useEffect(() => {\r\n        refreshProfile()\r\n        console.log(\"componentDidUpdate\")\r\n    }, [params.userId])\r\n\r\n    const refreshProfile = () => {\r\n        let userId = params.userId\r\n        if (!userId) {\r\n            userId = props.authUserId\r\n            if (!userId) props.history.push(\"/login\")\r\n        }\r\n        props.getUserProfileThunkCreator(userId)\r\n        props.getProfileStatusThunkCreator(userId)\r\n        props.isFollowedThunkCreator(userId)\r\n    }\r\n\r\n    const followingUser = (userId) => props.followUserThunkCreator(userId)\r\n    const unfollowingUser = (userId) => props.unfollowUserThunkCreator(userId)\r\n\r\n    return <ProfileInfo profile={props.profile}\r\n                        isOwner={!params.userId}\r\n                        savePhoto={props.savePhoto}\r\n                        saveProfile={props.saveProfile}\r\n                        status={props.status}\r\n                        updateStatus={props.updateProfileStatusThunkCreator}\r\n                        followingUser={followingUser}\r\n                        unfollowingUser={unfollowingUser}\r\n                        followed={props.followed}\r\n                        followingInProgress={props.followingInProgress}/>\r\n\r\n};\r\n\r\nlet mapStateToProps = (state) => ({\r\n    authUserId: getAuthUserId(state),\r\n    isAuth: getIsAuth(state),\r\n    profile: getProfile(state),\r\n    status: getStatus(state),\r\n    followed: getFollowed(state),\r\n    followingInProgress: getFollowingInProgress(state)\r\n});\r\n\r\nexport default compose(\r\n    connect(\r\n        mapStateToProps,\r\n        {\r\n            getUserProfileThunkCreator,\r\n            getProfileStatusThunkCreator, updateProfileStatusThunkCreator,\r\n            followUserThunkCreator, unfollowUserThunkCreator, isFollowedThunkCreator,\r\n            savePhoto, saveProfile\r\n        }),\r\n    withRouter)\r\n(ProfileContainer)","import React from 'react'\r\n\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport ProfileInfoContainer from \"./ProfileInfo/ProfileInfoContainer\";\r\n\r\nimport s from './Profile.module.css'\r\n\r\n\r\nconst Background = () => <div className={s.background}>\r\n    <img src='https://gazetaingush.ru/sites/default/files/pubs/obshchestvo/2021/05/priroda-ingushetii-1200x5401.jpg'/>\r\n</div>\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div className={s.profileWrapper}>\r\n            <Background/>\r\n            <ProfileInfoContainer/>\r\n            <MyPostsContainer/>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport default Profile;","import React from 'react';\r\nimport s from './ErrorForm.module.css'\r\n\r\nconst ErrorForm = (props) => {\r\n    console.log(props.error)\r\n    return <div className={s.errorWindow}>\r\n        <div className={s.exitButton}>\r\n            <button onClick={props.resetError}>X</button>\r\n        </div>\r\n        <div className={s.errorMessage}>\r\n            {props.error.toString()}\r\n        </div>\r\n    </div>\r\n};\r\n\r\nexport default ErrorForm;","import React, {Suspense, useEffect} from 'react';\r\nimport {Redirect, Route, Switch, withRouter} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\n\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport Profile from \"./components/Profile/Profile\";\r\n\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport {initializeAppThunkCreator, resetGlobalError} from \"./redux/app-reducer\";\r\nimport {getGlobalError, getInitialized} from \"./redux/getters-selectors\";\r\n\r\nimport './App.css';\r\nimport ErrorForm from \"./components/common/ErrorForm/ErrorForm\";\r\n\r\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\r\nconst Dialogs = React.lazy(() => import('./components/Dialogs/Dialogs'));\r\nconst News = React.lazy(() => import('./components/News/News'));\r\nconst Settings = React.lazy(() => import('./components/Settings/Settings'));\r\nconst Login = React.lazy(() => import('./components/Login/Login'));\r\n\r\n\r\nconst App = (props) => {\r\n    useEffect(() => {\r\n        props.initializeAppThunkCreator()\r\n    }, [])\r\n    if (!props.initialized) return <Preloader/>\r\n    return <div className='app-wrapper'>\r\n        <HeaderContainer/>\r\n        <Navbar/>\r\n        <Suspense fallback={<div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>}>\r\n            <div className='content-wrapper'>\r\n                <Switch>\r\n                    <Route exact path='/'\r\n                           render={() => <Redirect to=\"/profile\"/>}/>\r\n                    <Route path='/profile/:userId?'\r\n                           render={() => <Profile/>}/>\r\n                    <Route path='/dialogs'\r\n                           render={() => <Dialogs/>}/>\r\n                    <Route path='/news'\r\n                           render={() => <News/>}/>\r\n                    <Route path='/users'\r\n                           render={() => <UsersContainer/>}/>\r\n                    <Route path='/settings'\r\n                           render={() => <Settings/>}/>\r\n                    <Route path='/login'\r\n                           render={() => <Login/>}/>\r\n                    <Route path='*'\r\n                           render={() => <h1>404 Page not found</h1>}/>\r\n                </Switch>\r\n                {!!props.globalError && <ErrorForm error={props.globalError}\r\n                                                   resetError={props.resetGlobalError}/>}\r\n            </div>\r\n        </Suspense>\r\n    </div>\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: getInitialized(state),\r\n    globalError: getGlobalError(state)\r\n\r\n})\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeAppThunkCreator, resetGlobalError})\r\n)(App);\r\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\n\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport {reducer as formReducer} from \"redux-form\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n\tprofilePage: profileReducer,\r\n\tdialogsPage: dialogsReducer,\r\n\tusersPage: usersReducer,\r\n\tauth: authReducer,\r\n\tform: formReducer,\r\n\tapp: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\nwindow.store = store;\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from \"react-dom\";\r\nimport {HashRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\n\r\nimport reportWebVitals from './reportWebVitals';\r\nimport App from \"./App\";\r\nimport store from \"./redux/redux-store\";\r\n\r\nimport './index.css';\r\n\r\n\r\nReactDOM.render(<React.StrictMode>\r\n\t<HashRouter> {/*deploy on gh-pages*/}\r\n\r\n\t\t<Provider store={store}>\r\n\t\t\t<App/>\r\n\t\t</Provider>\r\n\r\n\t</HashRouter>\r\n</React.StrictMode>, document.getElementById('root'));\r\n\r\nreportWebVitals();\r\n\r\n\r\n","import {authApi, securityApi} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'auth/SET-USER_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'auth/GET_CAPTCHA_URL_SUCCESS';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaURL: null // if null -> captcha not required\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case SET_USER_DATA:\r\n            return {...state, ...action.data}\r\n\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {...state, captchaURL: action.url}\r\n\r\n        default:\r\n            return state\r\n    }\r\n};\r\n\r\nexport default authReducer;\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    data: {userId, email, login, isAuth}\r\n});\r\n\r\nexport const getCaptchaURLSUCCESS = (url) => ({type: GET_CAPTCHA_URL_SUCCESS, url});\r\n\r\nexport const getAuthMeThunkCreator = () => async (dispatch) => {\r\n    let data = await authApi.getAuthMe()\r\n\r\n    if (data.resultCode === 0) {\r\n        let {id, email, login} = data.data\r\n        dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n};\r\n\r\nexport const loginThunkCreator =  (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let data = await authApi.loginMe(email, password, rememberMe, captcha)\r\n\r\n    if (data.resultCode === 0) {\r\n        // —É—Å–ø–µ—à–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è\r\n        dispatch(getAuthMeThunkCreator())\r\n    } else {\r\n        let message = data.messages.length > 0 ? data.messages[0] : \"Some error\"\r\n        dispatch(stopSubmit(\"login\", {_error: message}))\r\n        if (data.resultCode === 10) dispatch(getCaptchaURL())\r\n        //^ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –±—ã–ª–∞ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Å –æ—à–∏–±–∫–æ–π\r\n    }\r\n};\r\n\r\nexport const logoutThunkCreator = () => async (dispatch) => {\r\n    let data = await authApi.logoutMe()\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n};\r\n\r\nexport const getCaptchaURL = () => async (dispatch) => {\r\n    const data = await securityApi.getCaptchaURL()\r\n    dispatch(getCaptchaURLSUCCESS(data.url))\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPosts\":\"MyPosts_myPosts__ps-Rc\",\"addPost\":\"MyPosts_addPost__1AOu9\",\"post\":\"MyPosts_post__24bUN\",\"likes\":\"MyPosts_likes__3LhCP\",\"postText\":\"MyPosts_postText__q2nal\"};","import React from 'react';\r\nimport s from './FormsControls.module.css';\r\n\r\nexport const Element = (Element) => ({input, meta, ...props}) => {\r\n    const isError = meta.error && meta.touched\r\n    return <>\r\n        <Element {...input}\r\n                 {...props}\r\n                 className={isError && s.error}/>\r\n        {isError && <div className={s.errorMessage}>{meta.error}</div>}\r\n    </>\r\n};\r\n\r\n// export const Textarea = ({input, meta, ...props}) => {\r\n// \tconst isError = meta.error && meta.touched\r\n// \treturn <>\r\n// \t\t<textarea {...input}\r\n// \t\t\t\t\t\t\t{...props}\r\n// \t\t\t\t\t\t\tclassName={isError && s.error}/>\r\n// \t\t{isError && <div className={s.errorMessage}>{meta.error}</div>}\r\n// \t</>\r\n// };\r\n//\r\n// export const Input = ({input, meta, ...props}) => {\r\n// \tconst isError = meta.error && meta.touched\r\n// \treturn <>\r\n// \t\t<input {...input}\r\n// \t\t\t\t\t {...props}\r\n// \t\t\t\t\t className={isError && s.error}/>\r\n// \t\t{isError && <div className={s.errorMessage}>{meta.error}</div>}\r\n// \t</>\r\n// };\r\n\r\n","export const updateObjectArray = (items, itemId, itemPropName, newObjProps) => {\r\n    return items.map(item => {\r\n        if (item[itemPropName] === itemId) {\r\n            return {...item, ...newObjProps}\r\n        }\r\n        return item\r\n    })\r\n};","import {usersApi} from \"../api/api\";\r\nimport {updateObjectArray} from \"./object-helper\";\r\n\r\nconst SET_USERS = 'users/SET-USERS';\r\nconst SET_FRIENDS = 'users/SET-FRIENDS';\r\n\r\nconst FOLLOW = 'users/FOLLOW';\r\nconst UNFOLLOW = 'users/UNFOLLOW';\r\n\r\nconst SET_CURRENT_PAGE = 'users/SET-CURRENT-PAGE';\r\nconst SET_TOTAL_COUNT_USERS = 'users/SET-TOTAL-COUNT-USERS';\r\nconst SET_TOTAL_COUNT_FRIENDS = 'users/SET-TOTAL-COUNT-FRIENDS';\r\n\r\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE-IS-FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'users/TOGGLE-IS-FOLLOWING-PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    friends: [],\r\n\r\n    pageSize: 8,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    totalFriendsCount: 0,\r\n\r\n    isFetching: false,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case SET_USERS:\r\n            return {...state, users: action.users}\r\n\r\n        case SET_FRIENDS:\r\n            return {...state, friends: action.friends}\r\n\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n\t\t\t\tusers: updateObjectArray(\r\n\t\t\t\t\tstate.users,\r\n\t\t\t\t\taction.userId,\r\n\t\t\t\t\t\"id\",\r\n\t\t\t\t\t{followed: true}),\r\n                // v —á—Ç–æ–±—ã –≤ –º–∞—Å—Å–∏–≤ –¥–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∞ –≤ –Ω–∞—á–∞–ª–æ - \"...state.friends\" –¥–µ–ª–∞–µ–º –ø–æ—Å–ª–µ\r\n                friends: [state.users.filter(user => {\r\n                    if (user.id === action.userId) {\r\n                        user.followed = true\r\n                        return user\r\n                    }\r\n                })[0], ...state.friends]\r\n                // ^ –ø–æ—Å–ª–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –º–∞—Å—Å–∏–≤ —Å –æ–¥–Ω–∏–º –æ–±—ä–µ–∫—Ç–æ–º, –ø–æ—ç—Ç–æ–º—É ...[0]\r\n                // –º–µ–Ω—è–µ–º –ø–æ–ª–µ –ø–æ–¥–ø–∏—Å–∫–∏\r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n\t\t\t\tusers: updateObjectArray(\r\n\t\t\t\t\tstate.users,\r\n\t\t\t\t\taction.userId,\r\n\t\t\t\t\t\"id\",\r\n\t\t\t\t\t{followed: false}),\r\n                friends: state.friends.filter(friend => friend.id !== action.userId)\r\n                //TODO –µ—Å–ª–∏ –µ—Å—Ç—å 200 –¥—Ä—É–∑–µ–π –∏ —É–¥–∞–ª—è—Ç—å –¥—Ä—É–≥–∞ ‚Ññ200 —á–µ—Ä–µ–∑ —Å–ø–∏—Å–æ–∫ —é–∑–µ—Ä–æ–≤ - —Ö–µ—Ä–Ω—è, —Ç.–∫. –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ 100\r\n            }\r\n\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage}\r\n\r\n        case SET_TOTAL_COUNT_USERS:\r\n            return {...state, totalUsersCount: action.totalUsersCount}\r\n\r\n        case SET_TOTAL_COUNT_FRIENDS:\r\n            return {...state, totalFriendsCount: action.totalFriendsCount}\r\n\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching}\r\n\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n};\r\n\r\nexport default usersReducer;\r\n\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setFriends = (friends) => ({type: SET_FRIENDS, friends});\r\n\r\nexport const followUser = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowUser = (userId) => ({type: UNFOLLOW, userId});\r\n\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_COUNT_USERS, totalUsersCount});\r\n\r\nexport const setTotalFriendsCount = (totalFriendsCount) => ({type: SET_TOTAL_COUNT_FRIENDS, totalFriendsCount});\r\n\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n});\r\n\r\nexport const getUsersThunkCreator = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n        dispatch(setCurrentPage(page))\r\n        let data = await usersApi.getUsers(page, pageSize)\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setTotalUsersCount(data.totalCount))\r\n    }\r\n};\r\nexport const getFriendsThunkCreator = () => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n        let data = await usersApi.getFriends()\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setFriends(data.items))\r\n        //TODO –ø–æ—Ç–æ–º –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–±—â–µ–≥–æ –∫–æ–ª-–≤–∞ –¥—Ä—É–∑–µ–π\r\n        dispatch(setTotalFriendsCount(data.totalCount))\r\n    }\r\n};\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    let data = await apiMethod(userId)\r\n    if (data.resultCode === 0) dispatch(actionCreator(userId))\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n};\r\nexport const followUserThunkCreator = (userId) => {\r\n    return async (dispatch) => {\r\n        await followUnfollowFlow(dispatch, userId, usersApi.followUser.bind(usersApi), followUser)\r\n    }\r\n};\r\nexport const unfollowUserThunkCreator = (userId) => {\r\n    return async (dispatch) => {\r\n        await followUnfollowFlow(dispatch, userId, usersApi.unfollowUser.bind(usersApi), unfollowUser)\r\n    }\r\n};\r\n\r\n","export default __webpack_public_path__ + \"static/media/preloader.246dc11a.svg\";","import React from 'react';\r\n\r\nimport preloader from \"../../../assets/preloader.svg\";\r\n\r\nconst Preloader = (props) => {\r\n\treturn <img src={preloader}/>\r\n};\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__VD2Sm\",\"loginBlock\":\"Header_loginBlock__2c-NW\",\"logoutB\":\"Header_logoutB__3AREK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorWindow\":\"ErrorForm_errorWindow__3iLgf\",\"errorMessage\":\"ErrorForm_errorMessage__1ynKE\",\"exitButton\":\"ErrorForm_exitButton__2Cldd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormsControls_error__1U_2P\",\"errorMessage\":\"FormsControls_errorMessage__2n2j1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"FollowControl_btn__6Ithc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileWrapper\":\"Profile_profileWrapper__1Y9Z4\",\"background\":\"Profile_background__BYxhX\"};"],"sourceRoot":""}