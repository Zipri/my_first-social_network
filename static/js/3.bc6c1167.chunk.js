(this["webpackJsonpmy_first-social_network"]=this["webpackJsonpmy_first-social_network"]||[]).push([[3],{359:function(e,s,t){e.exports={dialogsWrapper:"Dialogs_dialogsWrapper__32OS1"}},360:function(e,s,t){e.exports={dialogs:"DialogSelector_dialogs__2CNqO",dialog:"DialogSelector_dialog__2Z94z",dialogCurrent:"DialogSelector_dialogCurrent__2_jhY",dialogText:"DialogSelector_dialogText__1qstm"}},361:function(e,s,t){e.exports={messages:"MessageWindow_messages__3e2zF",messagesBody:"MessageWindow_messagesBody__uou-g",message:"MessageWindow_message__3wJMF",sendMess:"MessageWindow_sendMess__2IDY7"}},367:function(e,s,t){"use strict";t.r(s);var a=t(46),n=t(0),i=t(359),r=t.n(i),o=t(106),c=t(65),d=t(360),l=t.n(d),g=t(51),j=t(7),u=t.n(j),m=t(1),b=function(e){return Object(m.jsxs)("div",{className:u()(l.a.dialog,Object(c.a)({},l.a.dialogCurrent,e.currentURL===e.id.toString())),children:[Object(m.jsx)("img",{src:e.photo,alt:"friend photo"}),Object(m.jsx)(g.b,{to:"/dialogs/"+e.id,onClick:function(){return e.setUrl(e.id.toString())},children:Object(m.jsx)("div",{className:l.a.dialogText,children:e.name})})]})},O=function(e){return Object(m.jsx)("div",{className:l.a.dialogs,children:e.friends.map((function(s){return Object(m.jsx)(b,{name:s.name,id:s.id,photo:s.photos.small,setUrl:e.setUrl,currentURL:e.url})}))})},f=t(30),h=t(36),_=t(84),p=t(176),x=t(177),M=t(83),w=t(49),v=t(361),S=t.n(v),k=function(e){return Object(m.jsxs)("div",{className:S.a.message,children:[Object(m.jsx)("img",{src:"https://tgram.ru/wiki/channels/image/audiobooking.jpg"}),Object(m.jsx)("div",{children:Object(m.jsx)("text",{children:e.message})})]})},N=Object(M.a)("textarea"),U=Object(w.a)(100),W=Object(x.a)({form:"dialogMessageForm"})((function(e){return Object(m.jsxs)("form",{onSubmit:e.handleSubmit,className:S.a.sendMess,children:[Object(m.jsx)(p.a,{name:"messageBody",component:N,placeholder:"Write a message...",validate:[w.c,U]}),Object(m.jsx)("button",{children:Object(m.jsx)("img",{src:"https://img.icons8.com/ios/452/paper-plane.png",alt:"Message button"})})]})})),y=function(e){return Object(m.jsxs)("div",{className:S.a.messages,children:[Object(m.jsx)("div",{className:S.a.messagesBody,children:e.messages.map((function(e){return Object(m.jsx)(k,{message:e.message,id:e.id})}))}),Object(m.jsx)(W,{onSubmit:function(s){return e.sendMessage(s.messageBody)}})]})},C=t(175),D=t(19),B=function(e){return Object(m.jsxs)("div",{className:r.a.dialogsWrapper,children:[Object(m.jsx)(O,{friends:e.friends,url:e.url,setUrl:e.setUrl}),Object(m.jsx)(y,{messages:e.messages,sendMessage:e.sendMessage})]})};s.default=Object(h.b)((function(e){return{friends:Object(f.f)(e),messages:Object(f.l)(e),isAuth:Object(f.i)(e)}}),{getFriendsThunkCreator:_.d,sendMessage:C.b})((function(e){var s=window.location.href.split("/"),t=Object(D.g)(),i=Object(n.useState)(s[s.length-1]),r=Object(a.a)(i,2),c=r[0],d=r[1];return Object(n.useEffect)((function(){e.getFriendsThunkCreator()}),[]),e.isAuth||t.push("/login"),e.friends?Object(m.jsx)(B,{friends:e.friends,messages:e.messages,sendMessage:e.sendMessage,url:c,setUrl:d}):Object(m.jsx)(o.a,{})}))}}]);
//# sourceMappingURL=3.bc6c1167.chunk.js.map