{"version":3,"sources":["components/Profile/Profile.module.css","components/common/ErrorForm/ErrorForm.module.css","assets/logo1.gif","assets/logo2.gif","assets/logo3.gif","assets/logo4.gif","components/Header/Header.jsx","components/common/FormsControls/FormsControls.module.css","components/common/FollowControl/FollowControl.js","components/Profile/ProfileInfo/ProfileInfo.module.css","redux/dialogs-reducer.js","api/api.js","redux/getters-selectors.js","reportWebVitals.js","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.jsx","components/Profile/ProfileInfo/ProfileStatus.jsx","components/Profile/ProfileInfo/UserPart.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/ProfileContainer.jsx","components/common/ErrorForm/ErrorForm.js","App.js","redux/redux-store.js","index.js","redux/app-reducer.js","redux/profile-reducer.js","components/utils/validators/validators.js","assets/noAvatar.png","components/Header/Header.module.css","components/Profile/MyPosts/MyPosts.module.css","redux/auth-reducer.js","components/common/FormsControls/FormsControls.js","redux/object-helper.js","redux/users-reducer.js","assets/preloader.svg","components/common/Preloader/Preloader.js","components/common/FollowControl/FollowControl.module.css"],"names":["module","exports","Logout","props","className","s","logoutBlock","logoutText","login","logoutB","danger","onClick","logout","style","height","border","fontSize","Header","history","useHistory","useState","logo1","logo","setLogo","api","setApi","header","logo2","logo3","logo4","src","alt","cursor","inputAPI","placeholder","onChange","e","target","value","onBlur","changeAPI","width","textAlign","authBlock","isAuth","push","FollowButton","cn","btn","profile","btnProf","disabled","followingInProgress","some","id","userId","followingUser","UnfollowButton","unfollowingUser","FollowControl","userFollowed","SEND_MESSAGE","initialState","dialogs","name","messages","message","dialogsReducer","state","action","type","newMessageBody","sendMessage","config","withCredentials","baseURL","headers","instance","axios","create","usersApi","getUsers","currentPage","pageSize","get","then","response","data","getFriends","unfollowUser","delete","followUser","post","UnFollowUser","getIsFollowed","profileApi","getUserProfile","getProfileStatus","updateProfileStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","authApi","getAuthMe","loginMe","email","password","rememberMe","captcha","logoutMe","securityApi","getCaptchaURL","getInitialized","app","initialized","getGlobalError","globalError","getProfile","profilePage","getStatus","getFollowed","followed","getPosts","posts","getMessages","dialogsPage","createSelector","usersPage","users","getPageSize","friends","getTotalUsersCount","totalUsersCount","getCurrentPage","getTotalFriendsCount","totalFriendsCount","getIsFetching","isFetching","getFollowingInProgress","getIsAuth","auth","getAuthUserId","getLogin","captchaURL","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","connect","logoutThunkCreator","pagesLinks","label","key","Navbar","selectedKeys","window","location","href","split","map","item","link","Item","to","UserStatus","editMode","setEditMode","setStatus","useEffect","isOwner","currentTarget","autoFocus","updateStatus","active","notActive","Buttons","url","buttons","copy","borderRadius","marginTop","UserPartLabel","descriptionArea","text","profileInfo","LinksArea","links","Object","keys","contacts","linksArea","UserInfo","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","Input","Element","Textarea","maxLength20","maxLengthCreator","maxLength300","EditFormReduxForm","reduxForm","form","onSubmit","handleSubmit","marginBottom","inputFileSpan","error","Field","component","validate","requiredField","flex","UserPart","userPart","imageBody","image","photos","large","imageButtons","inputFileBody","files","inputFile","initialValues","values","ProfileInfo","setFollowed","Post","postBody","photo","postText","postMessage","likesBody","likes","maxLength50","MyPostsReduxForm","addPost","MyPosts","myPosts","newPostBody","p","small","Profile","profileWrapper","compose","authUserId","getUserProfileThunkCreator","getProfileStatusThunkCreator","updateProfileStatusThunkCreator","followUserThunkCreator","unfollowUserThunkCreator","isFollowedThunkCreator","withRouter","params","useParams","refreshProfile","Preloader","ErrorForm","toString","errorWindow","exitButton","resetError","errorMessage","UsersContainer","React","lazy","Dialogs","FAQ","Login","initializeAppThunkCreator","resetGlobalError","fallback","exact","path","render","reducers","combineReducers","profileReducer","usersReducer","authReducer","formReducer","appReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","StrictMode","document","getElementById","INITIALIZED_SUCCESS","SET_GLOBAL_ERROR","RESET_GLOBAL_ERROR","setGlobalError","dispatch","getAuthMeThunkCreator","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_PROFILE_STATUS","IS_FOLLOWED","SAVE_PHOTO_SUCCESS","Math","floor","random","filter","postId","setProfileStatus","a","noAvatar","file","resultCode","getState","maxLength","length","minLengthCreator","minLength","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","setAuthUserData","loginThunkCreator","stopSubmit","_error","input","meta","isError","touched","updateObjectArray","items","itemId","itemPropName","newObjProps","SET_USERS","SET_FRIENDS","FOLLOW","UNFOLLOW","SET_CURRENT_PAGE","SET_TOTAL_COUNT_USERS","SET_TOTAL_COUNT_FRIENDS","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","user","friend","setCurrentPage","toggleIsFetching","toggleFollowingProgress","getUsersThunkCreator","page","totalCount","getFriendsThunkCreator","followUnfollowFlow","apiMethod","actionCreator","bind","preloader","position","top","left"],"mappings":"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","file":"static/js/main.1ca64384.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileWrapper\":\"Profile_profileWrapper__1Y9Z4\",\"myPosts\":\"Profile_myPosts__1ogUg\",\"profileInfo\":\"Profile_profileInfo___hrxs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorWindow\":\"ErrorForm_errorWindow__3iLgf\",\"errorMessage\":\"ErrorForm_errorMessage__1ynKE\",\"exitButton\":\"ErrorForm_exitButton__2Cldd\"};","export default __webpack_public_path__ + \"static/media/logo1.8c388a0f.gif\";","export default __webpack_public_path__ + \"static/media/logo2.03f6c26f.gif\";","export default __webpack_public_path__ + \"static/media/logo3.82da6407.gif\";","export default __webpack_public_path__ + \"static/media/logo4.591ef747.gif\";","import React, {useState} from 'react';\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nimport logo1 from \"../../assets/logo1.gif\";\r\nimport logo2 from \"../../assets/logo2.gif\";\r\nimport logo3 from \"../../assets/logo3.gif\";\r\nimport logo4 from \"../../assets/logo4.gif\";\r\n\r\nimport s from './Header.module.css';\r\nimport {Button} from \"antd\";\r\nimport {changeAPI} from \"../../api/api\";\r\n\r\nconst Logout = (props) =>\r\n    <div className={s.logoutBlock}>\r\n        <div className={s.logoutText}>\r\n            {props.login}\r\n        </div>\r\n        <div className={s.logoutB}>\r\n            <Button danger onClick={props.logout}\r\n                    style={{height: 60, border: 0, fontSize: 20}}>Exit</Button>\r\n        </div>\r\n    </div>\r\n\r\nconst Header = (props) => {\r\n\r\n    const history = useHistory();\r\n    let [logo, setLogo] = useState(logo1)\r\n    const [api, setApi] = useState(null)\r\n\r\n    const changeLogo = () => {\r\n        switch (logo) {\r\n            case logo1:\r\n                return setLogo(logo2)\r\n            case logo2:\r\n                return setLogo(logo3)\r\n            case logo3:\r\n                return setLogo(logo4)\r\n            case logo4:\r\n                return setLogo(logo1)\r\n            default:\r\n                return setLogo(logo1)\r\n        }\r\n    }\r\n\r\n    return <header className={s.header}>\r\n        <img onClick={changeLogo} src={logo} alt={\"logo\"} style={{cursor: \"crosshair\"}}/>\r\n        <div className={s.inputAPI}>\r\n            <input placeholder={\"Input API-KEY here\"}\r\n                   onChange={(e) => setApi(e.target.value)}\r\n                   onBlur={() => changeAPI(api)}\r\n                   style={{height: 50, width: 150, border: 0, textAlign: \"center\"}}/>\r\n        </div>\r\n        <div className={s.authBlock}>\r\n            {props.isAuth\r\n                ? <Logout logout={props.logout} login={props.login}/>\r\n                : <Button onClick={() => history.push(\"/login\")}\r\n                          style={{height: 60, border: 0, fontSize: 30}}>Log in</Button>}\r\n        </div>\r\n    </header>\r\n};\r\n\r\nexport default Header;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormsControls_error__1U_2P\",\"errorMessage\":\"FormsControls_errorMessage__2n2j1\"};","import React from 'react';\r\nimport s from \"./FollowControl.module.css\";\r\nimport cn from \"classnames\";\r\n\r\nconst FollowButton = (props) => {\r\n    return <button className={cn({[s.btn]: !props.profile}, {[s.btnProf]: props.profile})}\r\n                   disabled={props.followingInProgress.some(id => id === props.userId)}\r\n                   onClick={() => props.followingUser(props.userId)}>✔️ Follow\r\n    </button>\r\n};\r\n\r\nconst UnfollowButton = (props) => {\r\n    return <button className={cn({[s.btn]: !props.profile}, {[s.btnProf]: props.profile})}\r\n                   disabled={props.followingInProgress.some(id => id === props.userId)}\r\n                   onClick={() => props.unfollowingUser(props.userId)}>❌ Unfollow\r\n    </button>\r\n};\r\n\r\nconst FollowControl = (props) => {\r\n    return <div>\r\n        {props.userFollowed\r\n            ? <UnfollowButton userId={props.userId}\r\n                              profile={props.profile}\r\n                              followingInProgress={props.followingInProgress}\r\n                              unfollowingUser={props.unfollowingUser}/>\r\n            : <FollowButton userId={props.userId}\r\n                            profile={props.profile}\r\n                            followingInProgress={props.followingInProgress}\r\n                            followingUser={props.followingUser}/>}\r\n    </div>\r\n};\r\n\r\nexport default FollowControl;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"flex\":\"ProfileInfo_flex__1EkbR\",\"profileInfo\":\"ProfileInfo_profileInfo__2QR7I\",\"status\":\"ProfileInfo_status__3RMld\",\"active\":\"ProfileInfo_active__3aD_j\",\"notActive\":\"ProfileInfo_notActive__Boi78\",\"buttons\":\"ProfileInfo_buttons__c-hD4\",\"links\":\"ProfileInfo_links__1aXUa\",\"linksArea\":\"ProfileInfo_linksArea__3w-Bw\",\"userPart\":\"ProfileInfo_userPart__qoscO\",\"imageBody\":\"ProfileInfo_imageBody__1C7Ej\",\"imageButtons\":\"ProfileInfo_imageButtons__3CdZO\",\"image\":\"ProfileInfo_image__KFPkX\",\"inputFileBody\":\"ProfileInfo_inputFileBody__3E7Bl\",\"inputFile\":\"ProfileInfo_inputFile__1ba9T\",\"inputFileSpan\":\"ProfileInfo_inputFileSpan__MRWHk\",\"descriptionArea\":\"ProfileInfo_descriptionArea__YBA-G\",\"text\":\"ProfileInfo_text__Qpiiw\",\"editMode\":\"ProfileInfo_editMode__2w2o6\"};","const SEND_MESSAGE = 'dialogs/SEND-MESSAGE'\r\n\r\nlet initialState = {\r\n\tdialogs: [\r\n\t\t{id: 1, name: 'Антон'},\r\n\t\t{id: 2, name: 'Настя (лисёнок)'},\r\n\t\t{id: 3, name: 'Кот'},\r\n\t\t{id: 4, name: 'Кирилл'},\r\n\t\t{id: 5, name: 'Яша'},\r\n\t\t{id: 6, name: 'Ъуъ'},\r\n\t],\r\n\tmessages: [\r\n\t\t{id: 1, message: 'А здесь могли бы быть сообщения'},\r\n\t\t{id: 2, message: 'Работающий чатик для пользователей сети'},\r\n\t\t{id: 3, message: 'Но, к сожалению, на сообщения апишки тоже нет'},\r\n\t\t{id: 4, message: 'Поэтому и здесь стоит просто заглушка'},\r\n\t\t{id: 5, message: 'И всё равно оргомная благодарочка Димычу за API'},\r\n\t\t{id: 6, message: 'Ъуъ'},\r\n\t\t{id: 1, message: 'А здесь могли бы быть сообщения'},\r\n\t\t{id: 2, message: 'Работающий чатик для пользователей сети'},\r\n\t\t{id: 3, message: 'Но, к сожалению, на сообщения апишки тоже нет'},\r\n\t\t{id: 4, message: 'Поэтому и здесь стоит просто заглушка'},\r\n\t\t{id: 5, message: 'И всё равно оргомная благодарочка Димычу за API'},\r\n\t\t{id: 6, message: 'Ъуъ'},\r\n\t\t{id: 1, message: 'А здесь могли бы быть сообщения'},\r\n\t\t{id: 2, message: 'Работающий чатик для пользователей сети'},\r\n\t\t{id: 3, message: 'Но, к сожалению, на сообщения апишки тоже нет'},\r\n\t\t{id: 4, message: 'Поэтому и здесь стоит просто заглушка'},\r\n\t\t{id: 5, message: 'И всё равно оргомная благодарочка Димычу за API'},\r\n\t\t{id: 6, message: 'Ъуъ'},\r\n\t],\r\n};\r\n\r\nexport const dialogsReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\r\n\t\tcase SEND_MESSAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmessages: [...state.messages, {id: 7, message: action.newMessageBody}]\r\n\t\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n};\r\n\r\nexport default dialogsReducer;\r\n\r\nexport const sendMessage = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody});","import axios from \"axios\";\r\nimport {useState} from \"react\";\r\nimport header from \"../components/Header/Header\";\r\n\r\nexport const changeAPI = (api) => {config = {\r\n\twithCredentials: true,\r\n\tbaseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n\theaders: {\r\n\t\t\"API-KEY\": api\r\n\t}\r\n}};\r\n\r\nlet config = {\r\n\twithCredentials: true,\r\n\tbaseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n\theaders: {\r\n\t\t\"API-KEY\": \"df13e065-b76b-4abe-885d-a3a658f4ab16\"\r\n\t}\r\n}\r\n\r\nconst instance = axios.create(config);\r\n\r\nexport const usersApi = {\r\n\tgetUsers (currentPage, pageSize) {\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n\t\t\t.then(response => response.data)\r\n\t},\r\n\tgetFriends () {\r\n\t\treturn instance.get(`users?friend=${true}&count=100`)\r\n\t\t\t.then(response => response.data)\r\n\t\t//TODO сделать кнопку \"ещё 100\" и показывать тогда, когда data.totalCount < 100\r\n\t},\r\n\tunfollowUser (userId) {\r\n\t\treturn instance.delete(`follow/${userId}`,config)\r\n\t\t\t.then(response => response.data)\r\n\t},\r\n\tfollowUser (userId) {\r\n\t\treturn instance.post(`follow/${userId}`, {}, config)\r\n\t\t\t.then(response => response.data)\r\n\t}\r\n};\r\n\r\nexport const UnFollowUser = {\r\n\t//TODO переделай остальных под это\r\n\tunfollowUser (userId) {\r\n\t\treturn instance.delete(`follow/${userId}`, config)\r\n\t\t\t.then(response => response.data)\r\n\t},\r\n\tfollowUser (userId) {\r\n\t\treturn instance.post(`follow/${userId}`, {}, config)\r\n\t\t\t.then(response => response.data)\r\n\t},\r\n\tgetIsFollowed (userId) {\r\n\t\treturn instance.get(`follow/${userId}`)\r\n\t\t\t.then(response => response.data)\r\n\t}\r\n}\r\n\r\nexport const profileApi = {\r\n\tgetUserProfile (userId) {\r\n\t\treturn instance.get(`profile/${userId}`)\r\n\t\t\t.then(response => response.data)\r\n\t},\r\n\tgetProfileStatus (userId) {\r\n\t\treturn instance.get(`profile/status/${userId}`)\r\n\t\t\t.then(response => response.data)\r\n\t},\r\n\tupdateProfileStatus (status) {\r\n\t\treturn instance.put(`profile/status`, {status: status}, config)\r\n\t},\r\n\tsavePhoto (photoFile) {\r\n\t\tconst formData = new FormData()\r\n\t\tformData.append(\"image\", photoFile)\r\n\t\tconfig.headers['Content-Type'] = 'multipart/form-data'\r\n\t\treturn instance.put(`profile/photo`, formData, config)\r\n\t},\r\n\tsaveProfile (profile) {\r\n\t\treturn instance.put(`profile`, profile, config)\r\n\t},\r\n};\r\n\r\nexport const authApi = {\r\n\tgetAuthMe () {\r\n\t\treturn instance.get(`auth/me`)\r\n\t\t\t.then(response => response.data)\r\n\t},\r\n\tloginMe (email, password, rememberMe = false, captcha = null) {\r\n\t\treturn instance.post(`auth/login`, {email, password, rememberMe, captcha})\r\n\t\t\t.then(response => response.data)\r\n\t},\r\n\tlogoutMe () {\r\n\t\treturn instance.delete(`auth/login`)\r\n\t\t\t.then(response => response.data)\r\n\t}\r\n};\r\n\r\nexport const securityApi = {\r\n\tgetCaptchaURL () {\r\n\t\treturn instance.get(`security/get-captcha-url`)\r\n\t\t\t.then(response => response.data)\r\n\t},\r\n};","import {createSelector} from \"reselect\";\r\n\r\n//App\r\nexport const getInitialized = (state) => state.app.initialized\r\nexport const getGlobalError = (state) => state.app.globalError\r\n\r\n//Profile\r\nexport const getProfile = (state) => state.profilePage.profile;\r\nexport const getStatus = (state) => state.profilePage.status;\r\nexport const getFollowed = (state) => state.profilePage.followed;\r\nexport const getPosts = (state) => state.profilePage.posts;\r\n\r\n//Dialogs\r\nexport const getDialogs = (state) => state.dialogsPage.dialogs;\r\n\r\n//Messages\r\nexport const getMessages = (state) => state.dialogsPage.messages;\r\n\r\n//Users\r\nconst simpleUsersSelector = (state) => state.usersPage.users;\r\nexport const getUsers = createSelector(simpleUsersSelector, (users) => users);\r\nexport const getPageSize = (state) => state.usersPage.pageSize;\r\nexport const getFriends = (state) => state.usersPage.friends;\r\nexport const getTotalUsersCount = (state) => state.usersPage.totalUsersCount;\r\nexport const getCurrentPage = (state) => state.usersPage.currentPage;\r\nexport const getTotalFriendsCount = (state) => state.usersPage.totalFriendsCount;\r\nexport const getIsFetching = (state) => state.usersPage.isFetching;\r\nexport const getFollowingInProgress = (state) => state.usersPage.followingInProgress;\r\n\r\n//Auth\r\nexport const getIsAuth = (state) => state.auth.isAuth;\r\nexport const getAuthUserId = (state) => state.auth.userId;\r\nexport const getLogin = (state) => state.auth.login;\r\nexport const getCaptchaURL = (state) => state.auth.captchaURL;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\n\r\nimport Header from \"./Header\";\r\nimport {logoutThunkCreator} from \"../../redux/auth-reducer\";\r\nimport {getIsAuth, getLogin} from \"../../redux/getters-selectors\";\r\n\r\nconst HeaderContainer = (props) => <Header {...props} logout={props.logoutThunkCreator}/>\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isAuth: getIsAuth(state),\r\n    login: getLogin(state)\r\n});\r\n\r\nexport default connect(mapStateToProps, {logoutThunkCreator})(HeaderContainer);","import React from 'react'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {Menu} from 'antd';\r\nimport s from './Navbar.module.css'\r\n\r\nconst pagesLinks = [\r\n    {label: 'Profile', key: '/profile'},\r\n    {label: 'Messages', key: '/dialogs'},\r\n    {label: 'Users', key: '/users'},\r\n    {label: 'FAQ', key: '/faq'},\r\n];\r\n\r\nconst Navbar = () => {\r\n    const menuItem = (key, link, label) =>\r\n        <Menu.Item key={key}>\r\n            <NavLink to={link}>{label}</NavLink>\r\n        </Menu.Item>\r\n\r\n    return <Menu style={{width: 250}} selectedKeys={[window.location.href.split('#')[1]]}>\r\n        {pagesLinks.map(item => menuItem(item.key, item.key, item.label))}\r\n    </Menu>\r\n};\r\n\r\nexport default Navbar;","import React, {useEffect, useState} from \"react\";\r\nimport s from \"./ProfileInfo.module.css\";\r\n\r\nconst UserStatus = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => setStatus(props.status), [props.status])\r\n\r\n    const onStatusChange = (e) => setStatus(e.currentTarget.value)\r\n    const activateEditMode = () => setEditMode(true)\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n\r\n    return <div>\r\n        {props.isOwner\r\n            ? <div className={s.status}>\r\n                {!editMode\r\n                    ? <div className={s.notActive}\r\n                           onClick={activateEditMode}>{props.status || \"...\"}</div>\r\n                    : <input onChange={onStatusChange}\r\n                             autoFocus\r\n                             onBlur={deactivateEditMode}\r\n                             value={status}\r\n                             className={s.active}/>\r\n                }\r\n            </div>\r\n            : <div className={s.status}>\r\n                <div className={s.notActive}>{props.status || \"...\"}</div>\r\n            </div>\r\n        }\r\n    </div>\r\n};\r\n\r\nexport default UserStatus;","import s from \"./ProfileInfo.module.css\";\r\nimport React, {useState} from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Element} from \"../../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, requiredField} from \"../../utils/validators/validators\";\r\nimport {Button} from \"antd\";\r\nimport FollowControl from \"../../common/FollowControl/FollowControl\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport copy from \"copy-to-clipboard\";\r\n\r\nconst Buttons = (props) => {\r\n    const history = useHistory();\r\n    const url = window.location.href\r\n    return <div className={s.buttons}>\r\n        <div>\r\n            <FollowControl userId={props.userId}\r\n                           profile={true}\r\n                           userFollowed={props.followed}\r\n                           followingInProgress={props.followingInProgress}\r\n                           followingUser={props.followingUser}\r\n                           unfollowingUser={props.unfollowingUser}/>\r\n        </div>\r\n        <div>\r\n            <Button onClick={() => copy(url)}\r\n                    style={{\r\n                        borderRadius: 10,\r\n                        marginTop: 20,\r\n                        height: 40,\r\n                        width: 186\r\n                    }}>Copy this profile link</Button>\r\n        </div>\r\n        <div>\r\n            <Button onClick={() => history.push(\"/users\")}\r\n                    style={{\r\n                        borderRadius: 10,\r\n                        marginTop: 20,\r\n                        height: 40,\r\n                        width: 186\r\n                    }}>Back to users page</Button>\r\n        </div>\r\n    </div>\r\n}\r\n\r\n\r\nconst UserPartLabel = (props) => {\r\n    return <div className={s.descriptionArea}>\r\n        <div className={s.text}>{props.text}</div>\r\n        <div>{props.profileInfo}</div>\r\n    </div>\r\n}\r\nconst LinksArea = (props) => <div className={s.links}>\r\n    {Object.keys(props.contacts).map(key =>\r\n        props.contacts[key]\r\n            ? <div key={key} className={s.linksArea}>{key}: <a href={props.contacts[key]}\r\n                                                               target=\"_blank\">{props.contacts[key]}</a></div>\r\n            : <div key={key} className={s.linksArea}>{key}: ...</div>\r\n    )}\r\n</div>\r\nconst UserInfo = (props) => <div>\r\n    <UserPartLabel text={\"Full name:\"} profileInfo={props.profile.fullName}/>\r\n    <UserPartLabel text={\"About me:\"} profileInfo={props.profile.aboutMe}/>\r\n    <UserPartLabel text={\"Looking for a job:\"}\r\n                   profileInfo={props.profile.lookingForAJob ? \"Yes\" : \"No\"}/>\r\n    <UserPartLabel text={\"My prof skills:\"} profileInfo={props.profile.lookingForAJobDescription}/>\r\n    <LinksArea contacts={props.profile.contacts}/>\r\n</div>\r\n\r\nconst Input = Element(\"input\")\r\nconst Textarea = Element(\"textarea\")\r\nconst maxLength20 = maxLengthCreator(20)\r\nconst maxLength300 = maxLengthCreator(300)\r\nconst EditForm = (props) => <form onSubmit={props.handleSubmit}>\r\n    <button style={{\r\n        borderRadius: 10,\r\n        marginBottom: 20,\r\n        height: 40,\r\n        width: 186\r\n    }}\r\n            className={s.inputFileSpan}>Save new information\r\n    </button>\r\n    {props.error}\r\n    <div>\r\n        <Field name={\"fullName\"}\r\n               component={Input}\r\n               placeholder=\"Full name...\"\r\n               validate={[requiredField, maxLength20]}/>\r\n    </div>\r\n    <div>\r\n        <Field name={\"aboutMe\"}\r\n               component={Textarea}\r\n               placeholder=\"About me...\"\r\n               validate={[requiredField, maxLength300]}/>\r\n    </div>\r\n    <div className={s.flex}>\r\n        <Field name={\"lookingForAJob\"}\r\n               component={Input}\r\n               type={\"checkbox\"}/>\r\n        <div>Are you looking for a job</div>\r\n    </div>\r\n    <div>\r\n        <Field name={\"lookingForAJobDescription\"}\r\n               component={Textarea}\r\n               placeholder=\"My prof skills...\"\r\n               validate={[requiredField, maxLength300]}/>\r\n    </div>\r\n    {Object.keys(props.contacts).map(key =>\r\n        <div key={key}>\r\n            <Field name={\"contacts.\" + key}\r\n                   component={Input}\r\n                   placeholder={key}/>\r\n        </div>\r\n    )}\r\n</form>\r\nconst EditFormReduxForm = reduxForm({form: \"profileInfoEditForm\"})(EditForm)\r\n\r\nconst UserPart = (props) => {\r\n    let [editMode, setEditMode] = useState(false)\r\n    const saveInfo = (values) =>\r\n        props.saveProfile(values).then(() => setEditMode(false))\r\n    const onMainPhotoSelected = (e) => props.savePhoto(e.target.files[0])\r\n    return <div className={s.userPart}>\r\n\r\n        <div className={s.imageBody}>\r\n            <img className={s.image} src={props.profile.photos.large} alt={\"Profile photo\"}/>\r\n            {props.isOwner ?\r\n                <div className={s.imageButtons}>\r\n                    <div className={s.inputFileBody}>\r\n                        <label>\r\n                            <input type={\"file\"} onChange={onMainPhotoSelected} className={s.inputFile}/>\r\n                            <span className={s.inputFileSpan}>\r\n                             Click to upload new avatar\r\n                        </span>\r\n                        </label>\r\n                    </div>\r\n                    <Button onClick={() => setEditMode(true)}\r\n                            style={{\r\n                                borderRadius: 10,\r\n                                marginTop: 20,\r\n                                height: 40,\r\n                                width: 186\r\n                            }}>Edit your profile info</Button>\r\n                </div>\r\n                : <Buttons followingUser={props.followingUser}\r\n                           unfollowingUser={props.unfollowingUser}\r\n                           followed={props.followed}\r\n                           userId={props.profile.userId}\r\n                           followingInProgress={props.followingInProgress}/>}\r\n        </div>\r\n\r\n        <div>\r\n            {editMode\r\n                ? <div className={s.editMode}>\r\n                    <Button onClick={() => setEditMode(false)}\r\n                            danger\r\n                            style={{\r\n                                borderRadius: 10,\r\n                                marginBottom: 20,\r\n                                height: 40,\r\n                                width: 186\r\n                            }}>Close without save</Button>\r\n                    <EditFormReduxForm initialValues={props.profile}\r\n                                       contacts={props.profile.contacts}\r\n                                       onSubmit={saveInfo}/>\r\n                </div>\r\n                : <UserInfo profile={props.profile}/>}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default UserPart;","import React, {useEffect, useState} from \"react\";\r\nimport UserStatus from \"./ProfileStatus\";\r\nimport s from \"./ProfileInfo.module.css\";\r\nimport UserPart from \"./UserPart\";\r\n\r\n\r\nconst ProfileInfo = (props) => {\r\n    const [followed, setFollowed] = useState(props.followed)\r\n    useEffect(() => setFollowed(props.followed), [props.followed])\r\n    // ^ использовал локальный стейт для динамического отображения изменений на странице\r\n    // т.к. props.followingUser - изменяет его только для users-reducers\r\n    const followingUser = (userId) => {\r\n        props.followingUser(userId)\r\n        setFollowed(true)\r\n    }\r\n    const unfollowingUser = (userId) => {\r\n        props.unfollowingUser(userId)\r\n        setFollowed(false)\r\n    }\r\n\r\n    return <div className={s.profileInfo}>\r\n        <UserStatus status={props.status}\r\n                    isOwner={props.isOwner}\r\n                    updateStatus={props.updateStatus}/>\r\n        <UserPart profile={props.profile}\r\n                  isOwner={props.isOwner}\r\n                  saveProfile={props.saveProfile}\r\n                  savePhoto={props.savePhoto}\r\n                  followingUser={followingUser}\r\n                  unfollowingUser={unfollowingUser}\r\n                  followed={followed}\r\n                  followingInProgress={props.followingInProgress}/>\r\n    </div>\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, requiredField} from \"../../utils/validators/validators\";\r\nimport {Element} from \"../../common/FormsControls/FormsControls\";\r\nimport s from './MyPosts.module.css';\r\nimport {Button} from \"antd\";\r\n\r\n\r\nconst Post = (props) => <div className={s.postBody}>\r\n    <div className={s.post}>\r\n        <img src={props.photo} alt={\"avatar\"}/>\r\n        <div className={s.postText}>\r\n            <div>{props.postMessage}</div>\r\n        </div>\r\n    </div>\r\n    <div className={s.likesBody}>\r\n        <Button style={{height: 50, width: 70, borderRadius: 10}}>\r\n            ♡ {props.likes}\r\n        </Button>\r\n    </div>\r\n</div>\r\n\r\nconst Textarea = Element(\"textarea\")\r\nconst maxLength50 = maxLengthCreator(50)\r\nconst MyPostsForm = (props) => {\r\n    return <form onSubmit={props.handleSubmit} className={s.addPost}>\r\n        <Field name={\"newPostBody\"}\r\n               component={Textarea}\r\n               placeholder=\"Write a new post...\"\r\n               validate={[requiredField, maxLength50]}\r\n        />\r\n        <button>Add</button>\r\n    </form>\r\n}\r\nconst MyPostsReduxForm = reduxForm({form: \"profileNewPostForm\"})(MyPostsForm)\r\n\r\nconst MyPosts = (props) => {\r\n    const addPost = (values) => props.addPost(values.newPostBody)\r\n    return <div className={s.myPosts}>\r\n        <MyPostsReduxForm onSubmit={addPost}/>\r\n        {props.posts.map(p => <Post postMessage={p.postMessage}\r\n                                    likes={p.likes}\r\n                                    id={p.id}\r\n                                    photo={props.profile.photos.small}/>)}\r\n    </div>\r\n}\r\n\r\nexport default MyPosts;","import React, {useEffect} from 'react'\r\nimport s from './Profile.module.css'\r\nimport {useParams, withRouter} from \"react-router-dom\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport {\r\n    getAuthUserId,\r\n    getFollowed,\r\n    getFollowingInProgress,\r\n    getIsAuth, getPosts,\r\n    getProfile,\r\n    getStatus\r\n} from \"../../redux/getters-selectors\";\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    addPost,\r\n    getProfileStatusThunkCreator,\r\n    getUserProfileThunkCreator, isFollowedThunkCreator, savePhoto, saveProfile,\r\n    updateProfileStatusThunkCreator\r\n} from \"../../redux/profile-reducer\";\r\nimport {followUserThunkCreator, unfollowUserThunkCreator} from \"../../redux/users-reducer\";\r\nimport MyPosts from \"./MyPosts/MyPosts\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\n\r\n\r\nconst Profile = (props) => <div className={s.profileWrapper}>\r\n    <div className={s.myPosts}>\r\n        <MyPosts posts={props.posts}\r\n                 addPost={props.addPost}\r\n                 profile={props.profile}/>\r\n    </div>\r\n    <div className={s.profileInfo}>\r\n        <ProfileInfo profile={props.profile}\r\n                     isOwner={props.isOwner}\r\n                     savePhoto={props.savePhoto}\r\n                     saveProfile={props.saveProfile}\r\n                     status={props.status}\r\n                     updateStatus={props.updateStatus}\r\n                     followingUser={props.followingUser}\r\n                     unfollowingUser={props.unfollowingUser}\r\n                     followed={props.followed}\r\n                     followingInProgress={props.followingInProgress}/>\r\n    </div>\r\n</div>\r\n\r\nconst ProfileContainer = (props) => {\r\n    const params = useParams(); // props.match.params. in hook (withRouter)\r\n\r\n    useEffect(() => {\r\n        refreshProfile()\r\n    }, [params.userId])\r\n\r\n    const refreshProfile = () => {\r\n        let userId = params.userId\r\n        if (!userId) {\r\n            userId = props.authUserId\r\n            if (!userId) props.history.push(\"/login\")\r\n        }\r\n        props.getUserProfileThunkCreator(userId)\r\n        props.getProfileStatusThunkCreator(userId)\r\n        props.isFollowedThunkCreator(userId)\r\n    }\r\n\r\n    const followingUser = (userId) => props.followUserThunkCreator(userId)\r\n    const unfollowingUser = (userId) => props.unfollowUserThunkCreator(userId)\r\n\r\n    if (!props.profile) return <Preloader/>\r\n    return <Profile profile={props.profile}\r\n                    posts={props.posts}\r\n                    addPost={props.addPost}\r\n                    isOwner={!params.userId}\r\n                    savePhoto={props.savePhoto}\r\n                    saveProfile={props.saveProfile}\r\n                    status={props.status}\r\n                    updateStatus={props.updateProfileStatusThunkCreator}\r\n                    followingUser={followingUser}\r\n                    unfollowingUser={unfollowingUser}\r\n                    followed={props.followed}\r\n                    followingInProgress={props.followingInProgress}/>\r\n\r\n};\r\n\r\nlet mapStateToProps = (state) => ({\r\n    authUserId: getAuthUserId(state),\r\n    isAuth: getIsAuth(state),\r\n    profile: getProfile(state),\r\n    posts: getPosts(state),\r\n    status: getStatus(state),\r\n    followed: getFollowed(state),\r\n    followingInProgress: getFollowingInProgress(state)\r\n});\r\n\r\nexport default compose(\r\n    connect(\r\n        mapStateToProps,\r\n        {\r\n            getUserProfileThunkCreator,\r\n            getProfileStatusThunkCreator, updateProfileStatusThunkCreator,\r\n            followUserThunkCreator, unfollowUserThunkCreator, isFollowedThunkCreator,\r\n            savePhoto, saveProfile, addPost\r\n        }),\r\n    withRouter)\r\n(ProfileContainer)","import React from 'react';\r\nimport s from './ErrorForm.module.css'\r\nimport {Button} from \"antd\";\r\n\r\nconst ErrorForm = (props) => {\r\n    const error = props.error.toString() === \"Error: Request failed with status code 403\"\r\n        ? `${props.error.toString()}, check API-KEY, if it correct - wait one hour`\r\n        : props.error.toString()\r\n    return <div className={s.errorWindow}>\r\n        <div className={s.exitButton}>\r\n            <Button onClick={props.resetError} style={{borderRadius: 13}}>X</Button>\r\n        </div>\r\n        <div className={s.errorMessage}>\r\n            {error}\r\n        </div>\r\n    </div>\r\n};\r\n\r\nexport default ErrorForm;","import React, {Suspense, useEffect} from 'react';\r\nimport {Redirect, Route, Switch, withRouter} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\n\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport ErrorForm from \"./components/common/ErrorForm/ErrorForm\";\r\n\r\nimport {initializeAppThunkCreator, resetGlobalError} from \"./redux/app-reducer\";\r\nimport {getGlobalError, getInitialized} from \"./redux/getters-selectors\";\r\n\r\nimport './App.css';\r\n\r\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\r\nconst Dialogs = React.lazy(() => import('./components/Dialogs/Dialogs'));\r\nconst FAQ = React.lazy(() => import('./components/FAQ/FAQ'));\r\nconst Login = React.lazy(() => import('./components/Login/Login'));\r\n\r\n\r\nconst App = (props) => {\r\n    useEffect(() => {\r\n        props.initializeAppThunkCreator()\r\n    }, [])\r\n    if (!props.initialized) return <Preloader/>\r\n    return <div className='app-wrapper'>\r\n        <HeaderContainer/>\r\n        <Navbar/>\r\n        <Suspense fallback={<Preloader/>}>\r\n            <div className='content-wrapper'>\r\n                <Switch>\r\n                    <Route exact path='/'\r\n                           render={() => <Redirect to=\"/profile\"/>}/>\r\n                    <Route path='/profile/:userId?'\r\n                           render={() => <ProfileContainer/>}/>\r\n                    <Route path='/dialogs'\r\n                           render={() => <Dialogs/>}/>\r\n                    <Route path='/users'\r\n                           render={() => <UsersContainer/>}/>\r\n                    <Route path='/faq'\r\n                           render={() => <FAQ/>}/>\r\n                    <Route path='/login'\r\n                           render={() => <Login/>}/>\r\n                    <Route path='*'\r\n                           render={() => <h1>404 Page not found</h1>}/>\r\n                </Switch>\r\n                {!!props.globalError && <ErrorForm error={props.globalError}\r\n                                                   resetError={props.resetGlobalError}/>}\r\n            </div>\r\n        </Suspense>\r\n    </div>\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: getInitialized(state),\r\n    globalError: getGlobalError(state)\r\n\r\n})\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeAppThunkCreator, resetGlobalError})\r\n)(App);\r\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\n\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport {reducer as formReducer} from \"redux-form\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n\tprofilePage: profileReducer,\r\n\tdialogsPage: dialogsReducer,\r\n\tusersPage: usersReducer,\r\n\tauth: authReducer,\r\n\tform: formReducer,\r\n\tapp: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\nwindow.store = store;\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from \"react-dom\";\r\nimport {HashRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\n\r\nimport reportWebVitals from './reportWebVitals';\r\nimport App from \"./App\";\r\nimport store from \"./redux/redux-store\";\r\n\r\nimport './index.css';\r\nimport 'antd/dist/antd.css';\r\n\r\n\r\nReactDOM.render(<React.StrictMode>\r\n\t<HashRouter> {/*deployed on gh-pages*/}\r\n\r\n\t\t<Provider store={store}>\r\n\t\t\t<App/>\r\n\t\t</Provider>\r\n\r\n\t</HashRouter>\r\n</React.StrictMode>, document.getElementById('root'));\r\n\r\nreportWebVitals();\r\n\r\n\r\n","import {getAuthMeThunkCreator} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'app/INITIALIZED-SUCCESS';\r\nconst SET_GLOBAL_ERROR = 'app/SET_GLOBAL_ERROR';\r\nconst RESET_GLOBAL_ERROR = 'app/RESET_GLOBAL_ERROR';\r\n\r\nlet initialState = {\r\n\tinitialized: false,\r\n\tglobalError: null\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\r\n\t\tcase INITIALIZED_SUCCESS:\r\n\t\t\treturn {...state, initialized: true}\r\n\r\n\t\tcase SET_GLOBAL_ERROR:\r\n\t\t\treturn {...state, globalError: action.globalError}\r\n\r\n\t\tcase RESET_GLOBAL_ERROR:\r\n\t\t\treturn {...state, globalError: null}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n};\r\n\r\nexport default appReducer;\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\nexport const setGlobalError = (globalError) => ({type: SET_GLOBAL_ERROR, globalError});\r\nexport const resetGlobalError = () => ({type: RESET_GLOBAL_ERROR});\r\n\r\nexport const initializeAppThunkCreator = () => (dispatch) => {\r\n\tlet promise = dispatch(getAuthMeThunkCreator())\r\n\tpromise.then(() => dispatch(initializedSuccess()))\r\n};\r\n\r\n","import {profileApi, UnFollowUser} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {setGlobalError} from \"./app-reducer\";\r\nimport noAvatar from '../assets/noAvatar.png'\r\n\r\nconst ADD_POST = 'profile/ADD-POST';\r\nconst DELETE_POST = 'profile/DELETE-POST';\r\nconst SET_USER_PROFILE = 'profile/SET-USER-PROFILE';\r\nconst SET_PROFILE_STATUS = 'profile/SET-PROFILE-STATUS';\r\nconst IS_FOLLOWED = 'profile/IS-FOLLOWED';\r\nconst SAVE_PHOTO_SUCCESS = 'profile/SAVE-PHOTO-SUCCESS';\r\n\r\nlet initialState = {\r\n    profile: null,\r\n    status: '',\r\n    followed: null,\r\n    posts: [\r\n        {id: 1, postMessage: 'Здесь должны были быть реальные посты реальных людей', likes: 4},\r\n        {id: 2, postMessage: 'И всё время, пока я делал приложение - был уверен, что они будут!', likes: 300},\r\n        {id: 3, postMessage: 'НО! Почти в самом конце я узнал...', likes: 76},\r\n        {id: 4, postMessage: 'Нет апишки на посты...', likes: 13},\r\n        {id: 11, postMessage: 'И всё равно оргомная благодарочка Димычу за API', likes: 13},\r\n        {\r\n            id: 6,\r\n            postMessage: 'Нет апишки - нет постов, нет постов - получаем заглушку... Но ладно, выглядит вполне неплохо же? Если бы ещё работало... Но не от меня же это зависит :)',\r\n            likes: 666\r\n        },\r\n        {\r\n            id: 7,\r\n            postMessage: 'Она несла в руках отвратительные, тревожные желтые цветы. Черт их знает, как их зовут, но они первые почему-то появляются в Москве.',\r\n            likes: 228\r\n        },\r\n    ],\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case ADD_POST:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {\r\n                    id: 8,\r\n                    postMessage: action.newPostBody,\r\n                    likes: Math.floor(Math.random() * (1000 - 1) + 1)\r\n                }]\r\n            }\r\n\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(post => post.id !== action.postId)\r\n            }\r\n\r\n        case SET_USER_PROFILE:\r\n            return {...state, profile: action.profile}\r\n\r\n        case SET_PROFILE_STATUS:\r\n            return {...state, status: action.status}\r\n\r\n        case IS_FOLLOWED:\r\n            return {...state, followed: action.followed}\r\n\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {...state, profile: {...state.profile, photos: action.photos}}\r\n\r\n        default:\r\n            return state\r\n    }\r\n};\r\n\r\nexport default profileReducer;\r\n\r\nexport const setProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos});\r\nexport const addPost = (newPostBody) => ({type: ADD_POST, newPostBody});\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\nexport const setProfileStatus = (status) => ({type: SET_PROFILE_STATUS, status});\r\nexport const isFollowed = (followed) => ({type: IS_FOLLOWED, followed})\r\n\r\nexport const getUserProfileThunkCreator = (userId) => async (dispatch) => {\r\n    let data = await profileApi.getUserProfile(userId)\r\n    if (!data.photos.small) {\r\n        data.photos.small = noAvatar\r\n        data.photos.large = noAvatar\r\n    }\r\n    dispatch(setProfile(data))\r\n};\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    try {\r\n        let response = await profileApi.savePhoto(file)\r\n        if (response.data.resultCode === 0) dispatch(savePhotoSuccess(response.data.data.photos))\r\n    } catch (error) {\r\n        dispatch(setGlobalError(error))\r\n    }\r\n};\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    try {\r\n        const userId = getState().auth.userId\r\n        const response = await profileApi.saveProfile(profile)\r\n        if (response.data.resultCode === 0) dispatch(getUserProfileThunkCreator(userId))\r\n    } catch (error) {\r\n        dispatch(setGlobalError(error))\r\n    }\r\n};\r\nexport const getProfileStatusThunkCreator = (userId) => async (dispatch) => {\r\n    let data = await profileApi.getProfileStatus(userId)\r\n    dispatch(setProfileStatus(data))\r\n};\r\nexport const updateProfileStatusThunkCreator = (status) => async (dispatch) => {\r\n    try {\r\n        let response = await profileApi.updateProfileStatus(status)\r\n        if (response.data.resultCode === 0) dispatch(setProfileStatus(status))\r\n    } catch (error) {\r\n        dispatch(setGlobalError(error))\r\n    }\r\n};\r\nexport const isFollowedThunkCreator = (userId) => async (dispatch) => {\r\n    let data = await UnFollowUser.getIsFollowed(userId)\r\n    dispatch(isFollowed(data))\r\n};\r\n","export const requiredField = (value) => {\r\n\tif (value) return undefined\r\n\treturn \"Empty field\"\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n\tif (value && value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n\treturn undefined\r\n}\r\n\r\nexport const minLengthCreator = (minLength) => (value) => {\r\n\tif (value && value.length < minLength) return `Min length is ${minLength} symbols`\r\n\treturn undefined\r\n}","export default \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__VD2Sm\",\"authBlock\":\"Header_authBlock__2jCVa\",\"inputAPI\":\"Header_inputAPI__buivM\",\"logoutBlock\":\"Header_logoutBlock__3OSBs\",\"logoutB\":\"Header_logoutB__3AREK\",\"logoutText\":\"Header_logoutText__3bge8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPosts\":\"MyPosts_myPosts__ps-Rc\",\"addPost\":\"MyPosts_addPost__1AOu9\",\"postBody\":\"MyPosts_postBody__2y2yA\",\"post\":\"MyPosts_post__24bUN\",\"postText\":\"MyPosts_postText__q2nal\",\"likesBody\":\"MyPosts_likesBody__VGhad\"};","import {authApi, securityApi} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'auth/SET-USER_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'auth/GET_CAPTCHA_URL_SUCCESS';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaURL: null // if null -> captcha not required\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case SET_USER_DATA:\r\n            return {...state, ...action.data}\r\n\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {...state, captchaURL: action.url}\r\n\r\n        default:\r\n            return state\r\n    }\r\n};\r\n\r\nexport default authReducer;\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    data: {userId, email, login, isAuth}\r\n});\r\n\r\nexport const getCaptchaURLSUCCESS = (url) => ({type: GET_CAPTCHA_URL_SUCCESS, url});\r\n\r\nexport const getAuthMeThunkCreator = () => async (dispatch) => {\r\n    let data = await authApi.getAuthMe()\r\n\r\n    if (data.resultCode === 0) {\r\n        let {id, email, login} = data.data\r\n        dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n};\r\n\r\nexport const loginThunkCreator =  (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let data = await authApi.loginMe(email, password, rememberMe, captcha)\r\n\r\n    if (data.resultCode === 0) {\r\n        // успешная авторизация\r\n        dispatch(getAuthMeThunkCreator())\r\n    } else {\r\n        let message = data.messages.length > 0 ? data.messages[0] : \"Some error\"\r\n        dispatch(stopSubmit(\"login\", {_error: message}))\r\n        if (data.resultCode === 10) dispatch(getCaptchaURL())\r\n        //^ несколько раз была произведена авторизация с ошибкой\r\n    }\r\n};\r\n\r\nexport const logoutThunkCreator = () => async (dispatch) => {\r\n    let data = await authApi.logoutMe()\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n};\r\n\r\nexport const getCaptchaURL = () => async (dispatch) => {\r\n    const data = await securityApi.getCaptchaURL()\r\n    dispatch(getCaptchaURLSUCCESS(data.url))\r\n};","import React from 'react';\r\nimport s from './FormsControls.module.css';\r\n\r\nexport const Element = (Element) => ({input, meta, ...props}) => {\r\n    const isError = meta.error && meta.touched\r\n    return <>\r\n        <Element {...input}\r\n                 {...props}\r\n                 className={isError && s.error}/>\r\n        {isError && <div className={s.errorMessage}>{meta.error}</div>}\r\n    </>\r\n};\r\n\r\n// export const Textarea = ({input, meta, ...props}) => {\r\n// \tconst isError = meta.error && meta.touched\r\n// \treturn <>\r\n// \t\t<textarea {...input}\r\n// \t\t\t\t\t\t\t{...props}\r\n// \t\t\t\t\t\t\tclassName={isError && s.error}/>\r\n// \t\t{isError && <div className={s.errorMessage}>{meta.error}</div>}\r\n// \t</>\r\n// };\r\n//\r\n// export const Input = ({input, meta, ...props}) => {\r\n// \tconst isError = meta.error && meta.touched\r\n// \treturn <>\r\n// \t\t<input {...input}\r\n// \t\t\t\t\t {...props}\r\n// \t\t\t\t\t className={isError && s.error}/>\r\n// \t\t{isError && <div className={s.errorMessage}>{meta.error}</div>}\r\n// \t</>\r\n// };\r\n\r\n","export const updateObjectArray = (items, itemId, itemPropName, newObjProps) => {\r\n    return items.map(item => {\r\n        if (item[itemPropName] === itemId) {\r\n            return {...item, ...newObjProps}\r\n        }\r\n        return item\r\n    })\r\n};","import {profileApi, usersApi} from \"../api/api\";\r\nimport {updateObjectArray} from \"./object-helper\";\r\nimport noAvatar from \"../assets/noAvatar.png\";\r\nimport {setGlobalError} from \"./app-reducer\";\r\nimport {savePhotoSuccess} from \"./profile-reducer\";\r\n\r\nconst SET_USERS = 'users/SET-USERS';\r\nconst SET_FRIENDS = 'users/SET-FRIENDS';\r\n\r\nconst FOLLOW = 'users/FOLLOW';\r\nconst UNFOLLOW = 'users/UNFOLLOW';\r\n\r\nconst SET_CURRENT_PAGE = 'users/SET-CURRENT-PAGE';\r\nconst SET_TOTAL_COUNT_USERS = 'users/SET-TOTAL-COUNT-USERS';\r\nconst SET_TOTAL_COUNT_FRIENDS = 'users/SET-TOTAL-COUNT-FRIENDS';\r\n\r\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE-IS-FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'users/TOGGLE-IS-FOLLOWING-PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    friends: [],\r\n\r\n    pageSize: 7,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    totalFriendsCount: 0,\r\n\r\n    isFetching: false,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case SET_USERS:\r\n            return {...state, users: action.users}\r\n\r\n        case SET_FRIENDS:\r\n            return {...state, friends: action.friends}\r\n\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n\t\t\t\tusers: updateObjectArray(\r\n\t\t\t\t\tstate.users,\r\n\t\t\t\t\taction.userId,\r\n\t\t\t\t\t\"id\",\r\n\t\t\t\t\t{followed: true}),\r\n                // v чтобы в массив добавить друга в начало - \"...state.friends\" делаем после\r\n                friends: [state.users.filter(user => {\r\n                    if (user.id === action.userId) {\r\n                        user.followed = true\r\n                        return user\r\n                    }\r\n                })[0], ...state.friends]\r\n                // ^ после фильтрации возвращается массив с одним объектом, поэтому ...[0]\r\n                // меняем поле подписки\r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n\t\t\t\tusers: updateObjectArray(\r\n\t\t\t\t\tstate.users,\r\n\t\t\t\t\taction.userId,\r\n\t\t\t\t\t\"id\",\r\n\t\t\t\t\t{followed: false}),\r\n                friends: state.friends.filter(friend => friend.id !== action.userId)\r\n                //TODO если есть 200 друзей и удалять друга №200 через список юзеров - херня, т.к. отображается только 100\r\n            }\r\n\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage}\r\n\r\n        case SET_TOTAL_COUNT_USERS:\r\n            return {...state, totalUsersCount: action.totalUsersCount}\r\n\r\n        case SET_TOTAL_COUNT_FRIENDS:\r\n            return {...state, totalFriendsCount: action.totalFriendsCount}\r\n\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching}\r\n\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n};\r\n\r\nexport default usersReducer;\r\n\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setFriends = (friends) => ({type: SET_FRIENDS, friends});\r\n\r\nexport const followUser = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowUser = (userId) => ({type: UNFOLLOW, userId});\r\n\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_COUNT_USERS, totalUsersCount});\r\n\r\nexport const setTotalFriendsCount = (totalFriendsCount) => ({type: SET_TOTAL_COUNT_FRIENDS, totalFriendsCount});\r\n\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n});\r\n\r\nexport const getUsersThunkCreator = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n        dispatch(setCurrentPage(page))\r\n        let data = await usersApi.getUsers(page, pageSize)\r\n        data.items.map(user => {\r\n            if (!user.photos.small) {\r\n                user.photos.small = noAvatar\r\n                user.photos.large = noAvatar\r\n            }\r\n        })\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setTotalUsersCount(data.totalCount))\r\n    }\r\n};\r\nexport const getFriendsThunkCreator = () => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n        let data = await usersApi.getFriends()\r\n        data.items.map(user => {\r\n            if (!user.photos.small) {\r\n                user.photos.small = noAvatar\r\n                user.photos.large = noAvatar\r\n            }\r\n        })\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setFriends(data.items))\r\n        dispatch(setTotalFriendsCount(data.totalCount))\r\n    }\r\n};\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    try {\r\n        dispatch(toggleFollowingProgress(true, userId))\r\n        let data = await apiMethod(userId)\r\n        if (data.resultCode === 0) dispatch(actionCreator(userId))\r\n        dispatch(toggleFollowingProgress(false, userId))\r\n    } catch (error) {\r\n        dispatch(setGlobalError(error))\r\n    }\r\n};\r\nexport const followUserThunkCreator = (userId) => {\r\n    return async (dispatch) => {\r\n        await followUnfollowFlow(dispatch, userId, usersApi.followUser.bind(usersApi), followUser)\r\n    }\r\n};\r\nexport const unfollowUserThunkCreator = (userId) => {\r\n    return async (dispatch) => {\r\n        await followUnfollowFlow(dispatch, userId, usersApi.unfollowUser.bind(usersApi), unfollowUser)\r\n    }\r\n};\r\n\r\n","export default __webpack_public_path__ + \"static/media/preloader.471c80e3.svg\";","import React from 'react';\r\n\r\nimport preloader from \"../../../assets/preloader.svg\";\r\n\r\nconst Preloader = () =>\r\n\t<img src={preloader}\r\n\t\t alt={\"Preloader\"}\r\n\t\t style={{position: \"absolute\", top: 400, left: 800}}/>\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"FollowControl_btn__6Ithc\",\"btnProf\":\"FollowControl_btnProf__2Di1I\"};"],"sourceRoot":""}