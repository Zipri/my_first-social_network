{"version":3,"sources":["components/Users/Users.module.css","components/Users/Users.jsx","components/Users/UsersContainer.jsx"],"names":["module","exports","Button","props","FollowControl","userId","user","id","userFollowed","followed","followingInProgress","followingUser","unfollowingUser","to","target","className","s","button","UserLabel","u","src","photos","large","alt","userTextDescription","userFullName","name","userStatus","status","PageSlider","portionCount","Math","ceil","pages","length","useState","portionNumber","setPortionNumber","left","right","slider","pageButton","onClick","filter","p","map","onPageChanged","cn","selected","currentPage","UsersList","users","label","flex","FriendsList","friends","isAuth","totalFriendsCount","Users","flexAll","connect","state","getIsAuth","getUsers","getFriends","pageSize","getPageSize","totalUsersCount","getTotalUsersCount","getCurrentPage","getTotalFriendsCount","isFetching","getIsFetching","getFollowingInProgress","followUser","unfollowUser","setCurrentPage","toggleFollowingProgress","getUsersThunkCreator","getFriendsThunkCreator","followUserThunkCreator","unfollowUserThunkCreator","useEffect","currentFriendPage","pagesCount","i","push","Preloader","pageNumber"],"mappings":"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","file":"static/js/7.6f1cc55c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__3xWl7\",\"friends\":\"Users_friends__11c5J\",\"label\":\"Users_label__ir8A5\",\"flex\":\"Users_flex__1gJK_\",\"flexAll\":\"Users_flexAll__2YjJ9\",\"user\":\"Users_user__2DpFJ\",\"userTextDescription\":\"Users_userTextDescription__2ATVm\",\"userFullName\":\"Users_userFullName__2C3_H\",\"userStatus\":\"Users_userStatus__1MLzq\",\"button\":\"Users_button__BpvNl\",\"slider\":\"Users_slider__1VFYJ\",\"pageButton\":\"Users_pageButton__1Fyqk\",\"selected\":\"Users_selected__3M9hQ\"};","import React, {useState} from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport FollowControl from \"../common/FollowControl/FollowControl\";\r\nimport s from './Users.module.css';\r\nimport cn from \"classnames\";\r\n\r\nconst Button = (props) => {\r\n    return <div>\r\n        <div>\r\n            <FollowControl userId={props.user.id}\r\n                           userFollowed={props.user.followed}\r\n                           followingInProgress={props.followingInProgress}\r\n                           followingUser={props.followingUser}\r\n                           unfollowingUser={props.unfollowingUser}/>\r\n        </div>\r\n        <div>\r\n            <NavLink to={\"/profile/\" + props.user.id} target=\"_blank\">\r\n                <div className={s.button}>New tab</div>\r\n            </NavLink>\r\n        </div>\r\n    </div>\r\n};\r\n\r\nconst UserLabel = (props) => {\r\n    return <div className={s.user}>\r\n        <NavLink to={\"/profile/\" + props.u.id}>\r\n            <img src={props.u.photos.large} alt={\"user photo\"}/>\r\n        </NavLink>\r\n        <div className={s.userTextDescription}>\r\n            <div className={s.userFullName}>\r\n                {props.u.name}\r\n            </div>\r\n            <div className={s.userStatus}>\r\n                {props.u.status}\r\n            </div>\r\n        </div>\r\n    </div>\r\n};\r\n\r\nconst PageSlider = (props) => {\r\n    let portionSize = 7\r\n    let portionCount = Math.ceil(props.pages.length / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let left = (portionNumber - 1) * portionSize + 1\r\n    let right = portionNumber * portionSize\r\n\r\n    return <div className={s.slider}>\r\n\r\n        {portionNumber > 1 &&\r\n            <button className={s.pageButton} onClick={() => setPortionNumber(1)}>❮❮</button>}\r\n        {portionNumber > 1 &&\r\n            <button className={s.pageButton} onClick={() => setPortionNumber(portionNumber - 1)}>❮</button>}\r\n\r\n        {\r\n            props.pages.filter(p => p >= left && p <= right)\r\n                .map(p => <span>\r\n\t\t\t\t\t<button onClick={() => props.onPageChanged(p)}\r\n                            className={// props.currentPage === p && s.selected || s.pageButton\r\n                                cn(s.pageButton, {[s.selected]: props.currentPage === p})}>\r\n                        {p}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</span>)\r\n        }\r\n\r\n        {portionNumber < portionCount &&\r\n            <button className={s.pageButton} onClick={() => setPortionNumber(portionNumber + 1)}>❯</button>}\r\n        {portionNumber < portionCount &&\r\n            <button className={s.pageButton} onClick={() => setPortionNumber(portionCount)}>❯❯</button>}\r\n\r\n    </div>\r\n};\r\n\r\nconst UsersList = (props) => {\r\n    return <div className={s.users}>\r\n        <div className={s.label}>Guys:</div>\r\n        <PageSlider pages={props.pages}\r\n                    onPageChanged={props.onPageChanged}\r\n                    currentPage={props.currentPage}/>\r\n        {props.users.map(user =>\r\n            <div key={user.id} className={s.flex}>\r\n                <UserLabel u={user}/>\r\n                <Button user={user}\r\n                        followingInProgress={props.followingInProgress}\r\n                        followingUser={props.followingUser}\r\n                        unfollowingUser={props.unfollowingUser}/>\r\n            </div>\r\n        )}\r\n    </div>\r\n};\r\n\r\nconst FriendsList = (props) => {\r\n    return <div className={s.friends}>\r\n        <div className={s.label}>{props.isAuth\r\n            ? `Friends (${props.totalFriendsCount}):`\r\n            : \"Please Login to see your friends\"}</div>\r\n        {props.friends.map(friends => {\r\n            return <div key={friends.id} className={s.flex}>\r\n                <UserLabel u={friends}/>\r\n                <Button user={friends}\r\n                        followingInProgress={props.followingInProgress}\r\n                        followingUser={props.followingUser}\r\n                        unfollowingUser={props.unfollowingUser}/>\r\n            </div>\r\n        })}\r\n    </div>\r\n};\r\n\r\nconst Users = (props) => {\r\n    return <div className={s.flexAll}>\r\n        <UsersList pages={props.pages}\r\n                   onPageChanged={props.onPageChanged}\r\n                   currentPage={props.currentPage}\r\n                   users={props.users}\r\n                   followingInProgress={props.followingInProgress}\r\n                   followingUser={props.followingUser}\r\n                   unfollowingUser={props.unfollowingUser}/>\r\n        <FriendsList isAuth={props.isAuth}\r\n                     friends={props.friends}\r\n                     totalFriendsCount={props.totalFriendsCount}\r\n                     followingInProgress={props.followingInProgress}\r\n                     followingUser={props.followingUser}\r\n                     unfollowingUser={props.unfollowingUser}/>\r\n    </div>\r\n};\r\n\r\nexport default Users;","import React, {useEffect} from 'react';\r\nimport {connect} from \"react-redux\";\r\n\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {\r\n    followUser, followUserThunkCreator, getFriendsThunkCreator, getUsersThunkCreator,\r\n    setCurrentPage, toggleFollowingProgress,\r\n    unfollowUser, unfollowUserThunkCreator\r\n} from \"../../redux/users-reducer\";\r\nimport {\r\n    getCurrentPage, getFollowingInProgress,\r\n    getFriends,\r\n    getIsAuth, getIsFetching,\r\n    getPageSize, getTotalFriendsCount,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../redux/getters-selectors\";\r\n\r\n\r\nconst UsersContainer = (props) => {\r\n    useEffect(() => {\r\n        props.getUsersThunkCreator(props.currentPage, props.pageSize)\r\n        props.getFriendsThunkCreator(props.currentFriendPage, props.pageSize)\r\n    }, [])\r\n\r\n    const onPageChanged = (pageNumber) =>\r\n        props.getUsersThunkCreator(pageNumber, props.pageSize)\r\n\r\n    const followingUser = (userId) => props.followUserThunkCreator(userId)\r\n    const unfollowingUser = (userId) => props.unfollowUserThunkCreator(userId)\r\n\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize)\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) pages.push(i)\r\n\r\n    return <>\r\n        {props.isFetching\r\n            ? <Preloader/>\r\n            : <Users isAuth={props.isAuth}\r\n\r\n                     pages={pages}\r\n                     onPageChanged={onPageChanged}\r\n                     currentPage={props.currentPage}\r\n\r\n                     users={props.users}\r\n                     friends={props.friends}\r\n                     totalFriendsCount={props.totalFriendsCount}\r\n\r\n                     followingUser={followingUser}\r\n                     unfollowingUser={unfollowingUser}\r\n                     followingInProgress={props.followingInProgress}/>}\r\n    </>\r\n\r\n};\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: getIsAuth(state),\r\n        users: getUsers(state),\r\n        friends: getFriends(state),\r\n\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        totalFriendsCount: getTotalFriendsCount(state),\r\n\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    {\r\n        followUser, unfollowUser, setCurrentPage, toggleFollowingProgress,\r\n        getUsersThunkCreator, getFriendsThunkCreator,\r\n        followUserThunkCreator, unfollowUserThunkCreator\r\n    })\r\n(UsersContainer);\r\n"],"sourceRoot":""}